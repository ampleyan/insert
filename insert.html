<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Video Blend Text Effect</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html, body {
      height: 100%;
      font-family: Helvetica, sans-serif;
      overflow: hidden;
      background: black;
    }

    #background-video {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      object-fit: cover;
    }

    .controls {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 3;
      background: rgba(0, 0, 0, 0.7);
      padding: 15px;
      border-radius: 8px;
    }

    .controls label {
      color: white;
      font-size: 14px;
      margin-bottom: 5px;
    }

    .controls select {
      padding: 8px;
      border-radius: 4px;
      background: rgba(255, 255, 255, 0.9);
      border: none;
      font-size: 14px;
      cursor: pointer;
    }

    .vibration-demo {
      position: relative;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      text-align: center;
    }

    .vibration {
      margin: 20px 0;
      position: relative;
    }

    .vibration span {
      font-size: 120px;
      font-weight: 900;
      display: inline-block;
      margin-right: 10px;
      transition: all 500ms;
      text-transform: uppercase;
      color: white;
      mix-blend-mode: difference;
    }

    .vibration span.vibrate {
      filter: blur(2px);
      animation: vibrate 50ms linear infinite forwards;
    }

    @keyframes vibrate {
      0% {
        transform: translateX(-1px) translateY(1px);
      }
      100% {
        transform: translateX(1px) translateY(-2px);
      }
    }
  </style>
</head>
<body>
  <video id="background-video" autoplay loop muted playsinline>
    <source src="back.mp4" type="video/mp4">
  </video>

  <div class="controls">
    <label for="text-blend">Blend Mode:</label>
    <select id="text-blend">
      <option value="normal">Normal</option>
      <option value="multiply">Multiply</option>
      <option value="screen">Screen</option>
      <option value="overlay">Overlay</option>
      <option value="darken">Darken</option>
      <option value="lighten">Lighten</option>
      <option value="color-dodge">Color Dodge</option>
      <option value="color-burn">Color Burn</option>
      <option value="hard-light">Hard Light</option>
      <option value="soft-light">Soft Light</option>
      <option value="difference" selected>Difference</option>
      <option value="exclusion">Exclusion</option>
      <option value="hue">Hue</option>
      <option value="saturation">Saturation</option>
      <option value="color">Color</option>
      <option value="luminosity">Luminosity</option>
    </select>
  </div>

  <div class="vibration-demo">
    <div class="vibration">INSERT</div>
    <div class="vibration">SUN'O3.08</div>
    <div class="vibration">BAR OOST</div>
  </div>

  <script>
    const video = document.getElementById('background-video');
    const textBlendSelect = document.getElementById('text-blend');

    // Apply initial blend mode
    function applyBlendMode(mode) {
      document.querySelectorAll('.vibration span').forEach(span => {
        span.style.mixBlendMode = mode;
      });
    }

    // Video autoplay
    video.play().catch(function(error) {
      console.log("Video autoplay failed:", error);
    });

    // Blend mode control
    textBlendSelect.addEventListener('change', (e) => {
      applyBlendMode(e.target.value);
    });

    // Text animation setup
    const vibrationBlocks = document.querySelectorAll('.vibration');

    vibrationBlocks.forEach(block => {
      if (![...block.childNodes].some(n => n.nodeName === 'SPAN')) {
        const text = block.textContent.trim();
        block.textContent = '';
        text.split('').forEach(letter => {
          const span = document.createElement('span');
          span.textContent = letter;
          block.appendChild(span);
        });
      }
    });

    // Apply initial blend mode
    applyBlendMode(textBlendSelect.value);

    function randomVibrate() {
      vibrationBlocks.forEach(block => {
        const spans = block.querySelectorAll('span');
        spans.forEach(span => span.classList.remove('vibrate'));

        const count = Math.floor(Math.random() * spans.length / 2) + 1;
        for (let i = 0; i < count; i++) {
          const index = Math.floor(Math.random() * spans.length);
          spans[index].classList.add('vibrate');
        }
      });
    }

    setInterval(randomVibrate, 200);

    // Double-click to toggle video play/pause
    document.addEventListener('dblclick', () => {
      if (video.paused) {
        video.play();
      } else {
        video.pause();
      }
    });
  </script>
</body>
</html>