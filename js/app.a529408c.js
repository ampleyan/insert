(function(){"use strict";var e={5604:function(e,t,i){var s=i(3751),n=i(810),o=i(641),a=i(33);const r={class:"app"},l={class:"text"};function d(e,t,i,n,d,c){const u=(0,o.g2)("VideoBackground"),p=(0,o.g2)("ControlPanel"),g=(0,o.g2)("TextVibration"),h=(0,o.g2)("GlitchEffect"),m=(0,o.g2)("WaveEffect"),f=(0,o.g2)("ParticleBurst"),y=(0,o.g2)("Rotation3D"),v=(0,o.g2)("NeonGlow"),b=(0,o.g2)("LiquidDistortion"),k=(0,o.g2)("TypewriterEffect"),L=(0,o.g2)("ChromaticAberration"),S=(0,o.g2)("TextDistort"),x=(0,o.g2)("SplitText"),C=(0,o.g2)("WavyText"),T=(0,o.g2)("FlickerText"),w=(0,o.g2)("StrokeText"),$=(0,o.g2)("GradientText"),V=(0,o.g2)("ErrorBoundary");return(0,o.uX)(),(0,o.CE)("div",r,[(0,o.bF)(u,{settings:n.settingsStore.$state},null,8,["settings"]),(0,o.bo)((0,o.Lk)("button",{class:"toggle-controls",onClick:t[0]||(t[0]=(...e)=>c.toggleControls&&c.toggleControls(...e))},[(0,o.Lk)("span",{class:(0,a.C4)(["icon",{hidden:e.isControlsHidden}])},"â—€",2),(0,o.Lk)("span",l,(0,a.v_)(e.isControlsHidden?"Show Controls":"Hide Controls"),1)],512),[[s.aG,!e.isControlsHidden]]),(0,o.Lk)("div",{class:(0,a.C4)(["shortcut-hint",{visible:d.isShortcutHintVisible}])}," Double-click anywhere to toggle controls ",2),(0,o.bF)(p,{class:(0,a.C4)({hidden:e.isControlsHidden}),onUpdate:c.onUpdate,onChangeEffect:c.onUpdate,onReset:c.resetToDefaults},null,8,["class","onUpdate","onChangeEffect","onReset"]),(0,o.bF)(V,null,{default:(0,o.k6)(()=>["vibration"===n.settingsStore.effectType?((0,o.uX)(),(0,o.Wv)(g,{key:0,settings:n.settingsStore.$state,onUpdate:c.onUpdate},null,8,["settings","onUpdate"])):(0,o.Q3)("",!0),"glitch"===n.settingsStore.effectType?((0,o.uX)(),(0,o.Wv)(h,{key:1,settings:n.settingsStore.$state},null,8,["settings"])):(0,o.Q3)("",!0),"wave"===n.settingsStore.effectType?((0,o.uX)(),(0,o.Wv)(m,{key:2,settings:n.settingsStore.$state},null,8,["settings"])):(0,o.Q3)("",!0),"particle"===n.settingsStore.effectType?((0,o.uX)(),(0,o.Wv)(f,{key:3,settings:n.settingsStore.$state},null,8,["settings"])):(0,o.Q3)("",!0),"rotation3d"===n.settingsStore.effectType?((0,o.uX)(),(0,o.Wv)(y,{key:4,settings:n.settingsStore.$state},null,8,["settings"])):(0,o.Q3)("",!0),"neon"===n.settingsStore.effectType?((0,o.uX)(),(0,o.Wv)(v,{key:5,settings:n.settingsStore.$state},null,8,["settings"])):(0,o.Q3)("",!0),"liquid"===n.settingsStore.effectType?((0,o.uX)(),(0,o.Wv)(b,{key:6,settings:n.settingsStore.$state},null,8,["settings"])):(0,o.Q3)("",!0),"typewriter"===n.settingsStore.effectType?((0,o.uX)(),(0,o.Wv)(k,{key:7,settings:n.settingsStore.$state},null,8,["settings"])):(0,o.Q3)("",!0),"chromatic"===n.settingsStore.effectType?((0,o.uX)(),(0,o.Wv)(L,{key:8,settings:n.settingsStore.$state},null,8,["settings"])):(0,o.Q3)("",!0),"goo"===n.settingsStore.effectType?((0,o.uX)(),(0,o.Wv)(S,{key:9,settings:n.settingsStore.$state,text:"Wavy Text",baseFrequency:"0.02 0.02",scale:"30",fontSize:"12vw",color:"#ff0"},null,8,["settings"])):(0,o.Q3)("",!0),"split"===n.settingsStore.effectType?((0,o.uX)(),(0,o.Wv)(x,{key:10,settings:n.settingsStore.$state},null,8,["settings"])):(0,o.Q3)("",!0),"wavy"===n.settingsStore.effectType?((0,o.uX)(),(0,o.Wv)(C,{key:11,settings:n.settingsStore.$state},null,8,["settings"])):(0,o.Q3)("",!0),"flicker"===n.settingsStore.effectType?((0,o.uX)(),(0,o.Wv)(T,{key:12,settings:n.settingsStore.$state},null,8,["settings"])):(0,o.Q3)("",!0),"stroke"===n.settingsStore.effectType?((0,o.uX)(),(0,o.Wv)(w,{key:13,settings:n.settingsStore.$state},null,8,["settings"])):(0,o.Q3)("",!0),"gradient"===n.settingsStore.effectType?((0,o.uX)(),(0,o.Wv)($,{key:14,settings:n.settingsStore.$state},null,8,["settings"])):(0,o.Q3)("",!0)]),_:1})])}const c={class:"video-container"};function u(e,t,i,s,n,r){const l=(0,o.g2)("VideoLayer");return(0,o.uX)(),(0,o.CE)("div",c,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.videoStore.layers,e=>((0,o.uX)(),(0,o.Wv)(l,{key:e.id,layer:e},null,8,["layer"]))),128)),(0,o.Lk)("div",{class:"backdrop-filter",style:(0,a.Tr)(r.backdropStyle)},null,4)])}i(4114);const p=["src"],g=["src","loop","muted","playbackRate"],h=["src","loop","muted","playbackRate"];function m(e,t,i,n,r,l){return(0,o.bo)(((0,o.uX)(),(0,o.CE)("div",{class:"video-layer",style:(0,a.Tr)(l.layerContainerStyle)},[r.isYouTubeUrl&&l.youtubeEmbedUrl?((0,o.uX)(),(0,o.CE)("iframe",{key:0,src:l.youtubeEmbedUrl,class:"youtube-iframe",style:(0,a.Tr)(l.videoStyle),frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:"",sandbox:"allow-scripts allow-same-origin allow-presentation"},null,12,p)):l.needsCanvas?((0,o.uX)(),(0,o.CE)("canvas",{key:1,ref:"effectCanvas",class:"video-canvas",style:(0,a.Tr)(l.canvasStyle)},null,4)):((0,o.uX)(),(0,o.CE)("video",{key:2,ref:"video",class:"background-video",src:r.videoSrc,loop:i.layer.playback.loop,muted:i.layer.playback.isMuted,playbackRate:i.layer.playback.playbackRate,style:(0,a.Tr)(l.videoStyle),autoplay:"",playsinline:""},null,12,g)),r.isYouTubeUrl?(0,o.Q3)("",!0):(0,o.bo)(((0,o.uX)(),(0,o.CE)("video",{key:3,ref:"sourceVideo",src:r.videoSrc,loop:i.layer.playback.loop,muted:i.layer.playback.isMuted,playbackRate:i.layer.playback.playbackRate,autoplay:"",playsinline:""},null,8,h)),[[s.aG,!1]])],4)),[[s.aG,i.layer.visible]])}i(6573),i(8100),i(7936),i(8111),i(2489),i(9577),i(4603),i(7566),i(8721);var f={name:"VideoLayer",props:{layer:{type:Object,required:!0}},data(){return{videoSrc:null,animationFrame:null,isYouTubeUrl:!1}},computed:{youtubeEmbedUrl(){if(!this.isYouTubeUrl||!this.layer.src)return console.log("[VideoLayer] youtubeEmbedUrl: null",{isYouTubeUrl:this.isYouTubeUrl,src:this.layer.src}),null;const e=this.extractYouTubeId(this.layer.src);if(!e)return console.warn("[VideoLayer] Failed to extract YouTube video ID from:",this.layer.src),null;const t=this.layer.playback.isPlaying?1:0,i=this.layer.playback.isMuted?1:0,s=this.layer.playback.loop?1:0,n=`https://www.youtube-nocookie.com/embed/${e}?autoplay=${t}&mute=${i}&loop=${s}&playlist=${e}&controls=1&modestbranding=1&rel=0&enablejsapi=1&origin=${window.location.origin}`;return console.log("[VideoLayer] Generated YouTube embed URL:",n),n},needsCanvas(){return!this.isYouTubeUrl&&(this.layer.effects.kaleidoscope||this.layer.effects.mirror||this.layer.effects.pixelate||this.layer.effects.edgeDetect||this.layer.effects.trails||this.layer.effects.feedbackLoop||this.layer.effects.voronoi||this.layer.effects.rgbSplit||this.layer.effects.datamosh||this.layer.effects.chromaKey)},layerContainerStyle(){return{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:this.layer.id,pointerEvents:"none"}},filterString(){const e=this.layer.filters;return[`blur(${e.blur}px)`,`brightness(${e.brightness}%)`,`contrast(${e.contrast}%)`,`saturate(${e.saturate}%)`,`hue-rotate(${e.hue}deg)`,`grayscale(${e.grayscale}%)`,`sepia(${e.sepia}%)`,`invert(${e.invert}%)`].join(" ")},transformString(){const e=this.layer.transform;return`translate(${e.x}px, ${e.y}px) scale(${e.scale/100}) rotate(${e.rotate}deg)`},videoStyle(){const e={width:"100%",height:"100%",objectFit:"cover",mixBlendMode:this.layer.blendMode,opacity:this.layer.opacity/100,filter:this.filterString,transform:this.transformString};return console.log("[VideoLayer] Computing videoStyle",{layerId:this.layer.id,layerOpacity:this.layer.opacity,computedOpacity:this.layer.opacity/100,filters:this.layer.filters,transform:this.layer.transform,style:e}),e},canvasStyle(){return{width:"100%",height:"100%",mixBlendMode:this.layer.blendMode,opacity:this.layer.opacity/100}}},watch:{layer:{handler(e){console.log("[VideoLayer] layer changed",{layerId:e.id,opacity:e.opacity,filters:e.filters,transform:e.transform})},deep:!0},"layer.file"(e,t){if(console.log("[VideoLayer] layer.file changed",{layerId:this.layer.id,newFile:e?.name,isFileInstance:e instanceof File,oldFile:t?.name}),e&&e instanceof File)try{this.videoSrc=URL.createObjectURL(e),console.log("[VideoLayer] Created blob URL from file:",this.videoSrc)}catch(i){console.error("[VideoLayer] Failed to create object URL:",i)}},"layer.src"(e,t){console.log("[VideoLayer] layer.src changed",{layerId:this.layer.id,newSrc:e,oldSrc:t,hasFile:!!this.layer.file}),e&&!this.layer.file&&(this.checkYouTubeUrl(e)?(console.log("[VideoLayer] Detected YouTube URL"),this.isYouTubeUrl=!0,this.videoSrc=null):(console.log("[VideoLayer] Using direct video URL"),this.isYouTubeUrl=!1,this.videoSrc=e))},"layer.opacity"(e,t){console.log("[VideoLayer] layer.opacity changed",{layerId:this.layer.id,oldOpacity:t,newOpacity:e})},"layer.playback.isPlaying"(e){this.isYouTubeUrl||(this.$refs.video&&(e?this.$refs.video.play().catch(()=>{}):this.$refs.video.pause()),this.$refs.sourceVideo&&(e?this.$refs.sourceVideo.play().catch(()=>{}):this.$refs.sourceVideo.pause()))},"layer.effects":{handler(){this.stopEffect(),this.startActiveEffect()},deep:!0}},mounted(){if(console.log("[VideoLayer] Mounted",{layerId:this.layer.id,layerSrc:this.layer.src,hasFile:!!this.layer.file,isFileInstance:this.layer.file instanceof File}),this.layer.file&&this.layer.file instanceof File)try{this.videoSrc=URL.createObjectURL(this.layer.file),this.isYouTubeUrl=!1,console.log("[VideoLayer] Created blob URL from file on mount:",this.videoSrc)}catch(e){console.error("[VideoLayer] Failed to create object URL:",e),this.videoSrc=this.layer.src}else this.layer.src?this.checkYouTubeUrl(this.layer.src)?(this.isYouTubeUrl=!0,this.videoSrc=null,console.log("[VideoLayer] YouTube URL detected on mount")):(this.isYouTubeUrl=!1,this.videoSrc=this.layer.src,console.log("[VideoLayer] Direct video URL set on mount:",this.videoSrc)):console.warn("[VideoLayer] No src or file on mount");this.$nextTick(()=>{this.startActiveEffect()})},beforeUnmount(){this.stopEffect(),this.videoSrc&&this.layer.file&&URL.revokeObjectURL(this.videoSrc)},methods:{checkYouTubeUrl(e){return!!e&&(e.includes("youtube.com")||e.includes("youtu.be")||e.includes("youtube-nocookie.com"))},extractYouTubeId(e){if(!e)return null;let t=null;if(e.includes("youtube.com/watch?v=")){const i=new URLSearchParams(new URL(e).search);t=i.get("v")}else e.includes("youtu.be/")?t=e.split("youtu.be/")[1].split("?")[0]:e.includes("youtube.com/embed/")&&(t=e.split("youtube.com/embed/")[1].split("?")[0]);return t},stopEffect(){this.animationFrame&&(cancelAnimationFrame(this.animationFrame),this.animationFrame=null)},startActiveEffect(){const e=this.layer.effects;e.kaleidoscope?this.startKaleidoscope():e.mirror?this.startMirror():e.pixelate?this.startPixelate():e.edgeDetect?this.startEdgeDetect():e.trails?this.startTrails():e.feedbackLoop?this.startFeedbackLoop():e.voronoi?this.startVoronoi():e.rgbSplit?this.startRGBSplit():e.datamosh?this.startDatamosh():e.chromaKey&&this.startChromaKey()},startKaleidoscope(){this.stopEffect();const e=this.$refs.effectCanvas,t=this.$refs.sourceVideo;if(!e||!t)return;const i=e.getContext("2d");e.width=window.innerWidth,e.height=window.innerHeight;const s=()=>{const n=this.layer.effects.kaleidoscopeSegments,o=2*Math.PI/n,a=Math.min(e.width,e.height)/2;i.clearRect(0,0,e.width,e.height),i.save(),i.translate(e.width/2,e.height/2);for(let e=0;e<n;e++)i.save(),i.rotate(o*e),i.beginPath(),i.moveTo(0,0),i.arc(0,0,a,0,o),i.closePath(),i.clip(),e%2===0&&i.scale(-1,1),i.drawImage(t,-a,-a,2*a,2*a),i.restore();i.restore(),this.animationFrame=requestAnimationFrame(s)};s()},startMirror(){this.stopEffect();const e=this.$refs.effectCanvas,t=this.$refs.sourceVideo;if(!e||!t)return;const i=e.getContext("2d");e.width=window.innerWidth,e.height=window.innerHeight;const s=()=>{if(i.clearRect(0,0,e.width,e.height),"horizontal"===this.layer.effects.mirrorAxis)i.drawImage(t,0,0,e.width,e.height/2),i.save(),i.scale(1,-1),i.drawImage(t,0,-e.height,e.width,e.height/2),i.restore();else if("vertical"===this.layer.effects.mirrorAxis)i.drawImage(t,0,0,e.width/2,e.height),i.save(),i.scale(-1,1),i.drawImage(t,-e.width,0,e.width/2,e.height),i.restore();else if("both"===this.layer.effects.mirrorAxis){const s=e.width/2,n=e.height/2;i.drawImage(t,0,0,s,n),i.save(),i.scale(-1,1),i.drawImage(t,-e.width,0,s,n),i.restore(),i.save(),i.scale(1,-1),i.drawImage(t,0,-e.height,s,n),i.restore(),i.save(),i.scale(-1,-1),i.drawImage(t,-e.width,-e.height,s,n),i.restore()}this.animationFrame=requestAnimationFrame(s)};s()},startPixelate(){this.stopEffect();const e=this.$refs.effectCanvas,t=this.$refs.sourceVideo;if(!e||!t)return;const i=e.getContext("2d");e.width=window.innerWidth,e.height=window.innerHeight;const s=()=>{const n=this.layer.effects.pixelSize,o=e.width,a=e.height;i.clearRect(0,0,o,a);const r=Math.ceil(o/n),l=Math.ceil(a/n);for(let e=0;e<l;e++)for(let s=0;s<r;s++)i.drawImage(t,s*n,e*n,n,n,s*n,e*n,n,n);this.animationFrame=requestAnimationFrame(s)};s()},startEdgeDetect(){this.stopEffect();const e=this.$refs.effectCanvas,t=this.$refs.sourceVideo;if(!e||!t)return;const i=e.getContext("2d");e.width=window.innerWidth,e.height=window.innerHeight;const s=()=>{i.drawImage(t,0,0,e.width,e.height);const n=i.getImageData(0,0,e.width,e.height),o=n.data,a=new Uint8ClampedArray(o.length);for(let t=1;t<e.height-1;t++)for(let i=1;i<e.width-1;i++){const s=4*(t*e.width+i),n=-o[s-4*e.width-4]+o[s-4*e.width+4]+-2*o[s-4]+2*o[s+4]+-o[s+4*e.width-4]+o[s+4*e.width+4],r=o[s-4*e.width-4]+2*o[s-4*e.width]+o[s-4*e.width+4]+-o[s+4*e.width-4]+-2*o[s+4*e.width]+-o[s+4*e.width+4],l=Math.sqrt(n*n+r*r);a[s]=l,a[s+1]=l,a[s+2]=l,a[s+3]=255}const r=new ImageData(a,e.width,e.height);i.putImageData(r,0,0),this.animationFrame=requestAnimationFrame(s)};s()},startTrails(){this.stopEffect();const e=this.$refs.effectCanvas,t=this.$refs.sourceVideo;if(!e||!t)return;const i=e.getContext("2d");e.width=window.innerWidth,e.height=window.innerHeight;const s=()=>{i.fillStyle="rgba(0, 0, 0, 0.1)",i.fillRect(0,0,e.width,e.height),i.drawImage(t,0,0,e.width,e.height),this.animationFrame=requestAnimationFrame(s)};s()},startFeedbackLoop(){this.stopEffect();const e=this.$refs.effectCanvas,t=this.$refs.sourceVideo;if(!e||!t)return;const i=e.getContext("2d");e.width=window.innerWidth,e.height=window.innerHeight;const s=()=>{i.save(),i.translate(e.width/2,e.height/2),i.scale(1.01,1.01),i.rotate(.001),i.translate(-e.width/2,-e.height/2),i.drawImage(e,0,0),i.restore(),i.globalAlpha=.5,i.drawImage(t,0,0,e.width,e.height),i.globalAlpha=1,this.animationFrame=requestAnimationFrame(s)};s()},startVoronoi(){this.stopEffect();const e=this.$refs.effectCanvas,t=this.$refs.sourceVideo;if(!e||!t)return;const i=e.getContext("2d");e.width=window.innerWidth,e.height=window.innerHeight;const s=this.layer.effects.voronoiCells||50,n=[];for(let a=0;a<s;a++)n.push({x:Math.random()*e.width,y:Math.random()*e.height});const o=()=>{i.drawImage(t,0,0,e.width,e.height);const s=i.getImageData(0,0,e.width,e.height);for(let t=0;t<e.height;t+=4)for(let o=0;o<e.width;o+=4){let a=1/0,r=n[0];for(const e of n){const i=Math.sqrt((o-e.x)**2+(t-e.y)**2);i<a&&(a=i,r=e)}const l=Math.floor(r.x),d=Math.floor(r.y),c=4*(d*e.width+l);i.fillStyle=`rgb(${s.data[c]}, ${s.data[c+1]}, ${s.data[c+2]})`,i.fillRect(o,t,4,4)}this.animationFrame=requestAnimationFrame(o)};o()},startRGBSplit(){this.stopEffect();const e=this.$refs.effectCanvas,t=this.$refs.sourceVideo;if(!e||!t)return;const i=e.getContext("2d");e.width=window.innerWidth,e.height=window.innerHeight;const s=()=>{i.clearRect(0,0,e.width,e.height),i.save(),i.globalCompositeOperation="screen",i.filter="contrast(200%) brightness(150%)",i.globalAlpha=1,i.drawImage(t,-5,0,e.width,e.height),i.filter="none",i.globalCompositeOperation="multiply",i.fillStyle="#00ffff",i.fillRect(0,0,e.width,e.height),i.globalCompositeOperation="screen",i.filter="contrast(200%) brightness(150%)",i.drawImage(t,5,0,e.width,e.height),i.filter="none",i.globalCompositeOperation="multiply",i.fillStyle="#ff0000",i.fillRect(0,0,e.width,e.height),i.globalCompositeOperation="lighter",i.filter="contrast(200%) brightness(150%)",i.drawImage(t,0,0,e.width,e.height),i.restore(),this.animationFrame=requestAnimationFrame(s)};s()},startDatamosh(){this.stopEffect();const e=this.$refs.effectCanvas,t=this.$refs.sourceVideo;if(!e||!t)return;const i=e.getContext("2d");e.width=window.innerWidth,e.height=window.innerHeight;let s=null;const n=()=>{if(Math.random()>.95)i.drawImage(t,0,0,e.width,e.height),s=i.getImageData(0,0,e.width,e.height);else if(s){const t=8;for(let n=0;n<e.height;n+=t)for(let o=0;o<e.width;o+=t)if(Math.random()>.7){const e=Math.floor(20*(Math.random()-.5)),a=Math.floor(20*(Math.random()-.5));i.putImageData(s,0,0,o+e,n+a,t,t)}}else i.drawImage(t,0,0,e.width,e.height);this.animationFrame=requestAnimationFrame(n)};n()},startChromaKey(){this.stopEffect();const e=this.$refs.effectCanvas,t=this.$refs.sourceVideo;if(!e||!t)return;const i=e.getContext("2d");e.width=window.innerWidth,e.height=window.innerHeight;const s=this.layer.effects.chromaKeyColor||[0,255,0],n=this.layer.effects.chromaKeyThreshold||40,o=()=>{i.drawImage(t,0,0,e.width,e.height);const a=i.getImageData(0,0,e.width,e.height),r=a.data;for(let e=0;e<r.length;e+=4){const t=r[e],i=r[e+1],o=r[e+2],a=Math.sqrt((t-s[0])**2+(i-s[1])**2+(o-s[2])**2);a<n&&(r[e+3]=0)}i.putImageData(a,0,0),this.animationFrame=requestAnimationFrame(o)};o()}}},y=i(6262);const v=(0,y.A)(f,[["render",m],["__scopeId","data-v-539b637c"]]);var b=v;i(116),i(1701);const k="/insert/video/back.mp4",L=(e=1)=>({id:e,name:`Video Layer ${e}`,src:1===e?k:"",file:null,blendMode:"normal",opacity:100,filters:{blur:0,brightness:100,contrast:100,saturate:100,hue:0,grayscale:0,sepia:0,invert:0},transform:{scale:100,x:0,y:0,rotate:0},effects:{kaleidoscope:!1,kaleidoscopeSegments:6,mirror:!1,mirrorAxis:"horizontal",pixelate:!1,pixelSize:10,edgeDetect:!1,trails:!1,feedbackLoop:!1,voronoi:!1,voronoiCells:50,rgbSplit:!1,datamosh:!1,chromaKey:!1,chromaKeyColor:[0,255,0],chromaKeyThreshold:40},playback:{isPlaying:!0,isMuted:!0,playbackRate:1,loop:!0},visible:!0}),S=()=>{console.log("[VideoStore] Loading from localStorage");try{const e=localStorage.getItem("videoLayers");if(console.log("[VideoStore] Raw stored data:",e),e){const t=JSON.parse(e);console.log("[VideoStore] Parsed data:",t);const i=t.layers.map(e=>({...L(e.id),...e,file:null}));return console.log("[VideoStore] Loaded layers:",i),i}}catch(e){console.error("[VideoStore] Failed to load video layers from storage:",e)}return console.log("[VideoStore] Using default layer"),[L()]},x=(0,n.nY)("videos",{state:()=>({layers:S(),nextId:2}),actions:{addLayer(){this.layers.push(L(this.nextId++)),this.saveToStorage()},saveToStorage(){try{const e=this.layers.map(e=>{const{file:t,...i}=e;return i});console.log("[VideoStore] Saving to localStorage:",e),localStorage.setItem("videoLayers",JSON.stringify({layers:e})),console.log("[VideoStore] Saved successfully")}catch(e){console.error("[VideoStore] Failed to save video layers:",e)}},removeLayer(e){const t=this.layers.findIndex(t=>t.id===e);-1!==t&&this.layers.length>1&&(this.layers.splice(t,1),this.saveToStorage())},updateLayer(e,t){const i=this.layers.find(t=>t.id===e);console.log("[VideoStore] updateLayer called",{id:e,updates:t,layerBefore:i?{...i}:null}),i?(Object.assign(i,t),console.log("[VideoStore] Layer updated",{id:e,layerAfter:{...i}}),this.saveToStorage()):console.warn("[VideoStore] Layer not found",{id:e})},updateLayerFilters(e,t){const i=this.layers.find(t=>t.id===e);i&&(Object.assign(i.filters,t),this.saveToStorage())},updateLayerEffects(e,t){const i=this.layers.find(t=>t.id===e);i&&(Object.assign(i.effects,t),this.saveToStorage())},updateLayerTransform(e,t){const i=this.layers.find(t=>t.id===e);i&&(Object.assign(i.transform,t),this.saveToStorage())},moveLayer(e,t){const i=this.layers.splice(e,1)[0];this.layers.splice(t,0,i),this.saveToStorage()},duplicateLayer(e){const t=this.layers.find(t=>t.id===e);if(t){const e=JSON.parse(JSON.stringify(t));e.id=this.nextId++,e.name=`${t.name} (Copy)`,e.file=null,this.layers.push(e),this.saveToStorage()}},toggleLayerVisibility(e){const t=this.layers.find(t=>t.id===e);t&&(t.visible=!t.visible,this.saveToStorage())}}});var C={name:"VideoBackground",components:{VideoLayer:b},props:{settings:{type:Object,default:()=>({backdropBlur:0,backdropBrightness:100,backdropContrast:100,backdropSaturate:100})}},setup(){const e=x();return{videoStore:e}},computed:{backdropStyle(){const e=[];return this.settings.backdropBlur>0&&e.push(`blur(${this.settings.backdropBlur}px)`),100!==this.settings.backdropBrightness&&e.push(`brightness(${this.settings.backdropBrightness}%)`),100!==this.settings.backdropContrast&&e.push(`contrast(${this.settings.backdropContrast}%)`),100!==this.settings.backdropSaturate&&e.push(`saturate(${this.settings.backdropSaturate}%)`),{backdropFilter:e.join(" "),WebkitBackdropFilter:e.join(" ")}}}};const T=(0,y.A)(C,[["render",u],["__scopeId","data-v-0a54b050"]]);var w=T;const $={class:"controls"},V={class:"control-header"},U={class:"control-group text-control"},E={class:"positioning-mode"},I={class:"drag-mode-toggle"},A={class:"text-input-group"},M={class:"text-block"},R={class:"text-header"},F={class:"text-type-controls"},X=["onClick"],_=["onClick"],B=["onClick"],D={class:"text-input-container"},O=["onUpdate:modelValue"],z=["onUpdate:modelValue"],W={class:"text-options"},q={class:"options-grid"},K={class:"option-item"},H={class:"slider-container"},P=["onUpdate:modelValue"],J={class:"value"},j={class:"option-item"},Y={class:"slider-container"},Q=["onUpdate:modelValue"],N={class:"value"},G={class:"option-item"},Z={class:"slider-container"},ee=["onUpdate:modelValue"],te={class:"value"};function ie(e,t,i,n,r,l){const d=(0,o.g2)("VideoLayerControls"),c=(0,o.g2)("BackdropControls"),u=(0,o.g2)("BlendControls"),p=(0,o.g2)("ColorControls"),g=(0,o.g2)("AnimationControls"),h=(0,o.g2)("RecordingControls");return(0,o.uX)(),(0,o.CE)("div",$,[(0,o.Lk)("div",V,[t[11]||(t[11]=(0,o.Lk)("h2",null,"Controls",-1)),(0,o.Lk)("button",{class:"reset-button",onClick:t[0]||(t[0]=(...e)=>l.handleReset&&l.handleReset(...e)),title:"Reset all settings to defaults"}," Reset All ")]),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.settings.effectType=e),onChange:t[2]||(t[2]=e=>l.onEffectChoice(r.settings))},t[12]||(t[12]=[(0,o.Fv)('<option value="vibration" data-v-656fe619>Vibration</option><option value="glitch" data-v-656fe619>Glitch</option><option value="wave" data-v-656fe619>Wave</option><option value="particle" data-v-656fe619>Particle Burst</option><option value="rotation3d" data-v-656fe619>3D Rotation</option><option value="neon" data-v-656fe619>Neon Glow</option><option value="liquid" data-v-656fe619>Liquid Distortion</option><option value="typewriter" data-v-656fe619>Typewriter</option><option value="chromatic" data-v-656fe619>Chromatic Aberration</option><option value="goo" data-v-656fe619>SVG Distort</option><option value="split" data-v-656fe619>Split Text</option><option value="wavy" data-v-656fe619>Wavy Text</option><option value="flicker" data-v-656fe619>Flicker Text</option><option value="stroke" data-v-656fe619>Stroke Text</option><option value="gradient" data-v-656fe619>Gradient Text</option>',15)]),544),[[s.u1,r.settings.effectType]]),(0,o.bF)(d),(0,o.bF)(c,{onUpdate:l.onUpdate},null,8,["onUpdate"]),(0,o.bF)(u,{onUpdate:l.onUpdate},null,8,["onUpdate"]),(0,o.bF)(p,{onUpdate:l.onUpdate},null,8,["onUpdate"]),(0,o.bF)(g,{onUpdate:l.onUpdate},null,8,["onUpdate"]),(0,o.Lk)("div",U,[t[18]||(t[18]=(0,o.Lk)("h3",null,"Text Settings",-1)),(0,o.Lk)("div",E,[(0,o.Lk)("label",I,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=e=>r.settings.dragMode=e),onChange:t[4]||(t[4]=e=>l.onUpdate(r.settings))},null,544),[[s.lH,r.settings.dragMode]]),t[13]||(t[13]=(0,o.Lk)("span",null,"Enable Drag Mode",-1)),t[14]||(t[14]=(0,o.Lk)("span",{class:"help-text"},"Click and drag text to reposition. Hold Shift for grid snap.",-1))])]),(0,o.Lk)("div",A,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.settings.textLines,(e,i)=>((0,o.uX)(),(0,o.CE)("div",{class:"text-line",key:i},[(0,o.Lk)("div",M,[(0,o.Lk)("div",R,[(0,o.Lk)("div",F,[(0,o.Lk)("button",{class:(0,a.C4)({active:!r.settings.textTypes?.[i]}),onClick:e=>l.setTextType(i,"line"),title:"Single line"}," âŸ¶ ",10,X),(0,o.Lk)("button",{class:(0,a.C4)({active:"paragraph"===r.settings.textTypes?.[i]}),onClick:e=>l.setTextType(i,"paragraph"),title:"Paragraph"}," Â¶ ",10,_)]),r.settings.textLines.length>1?((0,o.uX)(),(0,o.CE)("button",{key:0,class:"remove-button",onClick:e=>l.removeLine(i)},"âœ•",8,B)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",D,["paragraph"===r.settings.textTypes?.[i]?(0,o.bo)(((0,o.uX)(),(0,o.CE)("textarea",{key:0,"onUpdate:modelValue":e=>r.settings.textLines[i]=e,onInput:t[5]||(t[5]=e=>l.onUpdate(r.settings)),placeholder:"Enter paragraph text",rows:"4"},null,40,O)),[[s.Jo,r.settings.textLines[i]]]):(0,o.bo)(((0,o.uX)(),(0,o.CE)("input",{key:1,type:"text","onUpdate:modelValue":e=>r.settings.textLines[i]=e,onInput:t[6]||(t[6]=e=>l.onUpdate(r.settings)),placeholder:"Enter line of text"},null,40,z)),[[s.Jo,r.settings.textLines[i]]])]),(0,o.Lk)("div",W,[(0,o.Lk)("div",q,[(0,o.Lk)("div",K,[t[15]||(t[15]=(0,o.Lk)("label",null,"Font Size",-1)),(0,o.Lk)("div",H,[(0,o.bo)((0,o.Lk)("input",{type:"range","onUpdate:modelValue":e=>r.settings.fontSize[i]=e,min:"12",max:"200",onInput:t[7]||(t[7]=e=>l.onUpdate(r.settings))},null,40,P),[[s.Jo,r.settings.fontSize[i],void 0,{number:!0}]]),(0,o.Lk)("span",J,(0,a.v_)(r.settings.fontSize[i])+"px",1)])]),(0,o.Lk)("div",j,[t[16]||(t[16]=(0,o.Lk)("label",null,"Letter Spacing",-1)),(0,o.Lk)("div",Y,[(0,o.bo)((0,o.Lk)("input",{type:"range","onUpdate:modelValue":e=>r.settings.letterSpacing[i]=e,min:"-20",max:"100",onInput:t[8]||(t[8]=e=>l.onUpdate(r.settings))},null,40,Q),[[s.Jo,r.settings.letterSpacing[i],void 0,{number:!0}]]),(0,o.Lk)("span",N,(0,a.v_)(r.settings.letterSpacing[i])+"px",1)])]),(0,o.Lk)("div",G,[t[17]||(t[17]=(0,o.Lk)("label",null,"Random Amount",-1)),(0,o.Lk)("div",Z,[(0,o.bo)((0,o.Lk)("input",{type:"range","onUpdate:modelValue":e=>r.settings.randomAmount[i]=e,min:"0",max:"100",onInput:t[9]||(t[9]=e=>l.onUpdate(r.settings))},null,40,ee),[[s.Jo,r.settings.randomAmount[i],void 0,{number:!0}]]),(0,o.Lk)("span",te,(0,a.v_)(r.settings.randomAmount[i])+"%",1)])])])])])]))),128))]),(0,o.Lk)("button",{class:"add-line-button",onClick:t[10]||(t[10]=(...e)=>l.addLine&&l.addLine(...e))},"Add Line")]),(0,o.bF)(h)])}i(7588);const se={class:"control-group"},ne=["value"];function oe(e,t,i,n,r,l){return(0,o.uX)(),(0,o.CE)("div",se,[t[2]||(t[2]=(0,o.Lk)("h3",null,"Blend Settings",-1)),t[3]||(t[3]=(0,o.Lk)("label",{for:"text-blend"},"Blend Mode:",-1)),(0,o.bo)((0,o.Lk)("select",{id:"text-blend","onUpdate:modelValue":t[0]||(t[0]=e=>r.blendMode=e),onInput:t[1]||(t[1]=(...e)=>l.updateValue&&l.updateValue(...e))},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.blendModes,e=>((0,o.uX)(),(0,o.CE)("option",{key:e.value,value:e.value},(0,a.v_)(e.label),9,ne))),128))],544),[[s.u1,r.blendMode]])])}const ae=[{value:"normal",label:"Normal"},{value:"multiply",label:"Multiply"},{value:"screen",label:"Screen"},{value:"overlay",label:"Overlay"},{value:"darken",label:"Darken"},{value:"lighten",label:"Lighten"},{value:"color-dodge",label:"Color Dodge"},{value:"color-burn",label:"Color Burn"},{value:"hard-light",label:"Hard Light"},{value:"soft-light",label:"Soft Light"},{value:"difference",label:"Difference"},{value:"exclusion",label:"Exclusion"},{value:"hue",label:"Hue"},{value:"saturation",label:"Saturation"},{value:"color",label:"Color"},{value:"luminosity",label:"Luminosity"}],re="difference";var le={name:"BlendControls",props:{modelValue:{type:String,default:re}},emits:["update"],data(){return{controlSettings:{blendMode:"difference"},blendMode:re,blendModes:ae}},mounted(){this.blendMode=this.controlSettings.blendMode||re},methods:{updateValue(e){this.controlSettings.blendMode=e.target.value,this.$emit("update",this.controlSettings)}}};const de=(0,y.A)(le,[["render",oe]]);var ce=de;const ue={class:"control-group"},pe={class:"sub-controls"},ge={class:"value-display",id:"hue-value"},he={class:"value-display",id:"opacity-value"};function me(e,t,i,n,r,l){return(0,o.uX)(),(0,o.CE)("div",ue,[t[6]||(t[6]=(0,o.Lk)("h3",null,"Color Settings",-1)),(0,o.Lk)("div",pe,[t[3]||(t[3]=(0,o.Lk)("label",{for:"hue-rotate"},"Hue Rotation:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"range",id:"hue-rotate","onUpdate:modelValue":t[0]||(t[0]=e=>r.controlSettings.hue=e),min:"0",max:"360"},null,512),[[s.Jo,r.controlSettings.hue,void 0,{number:!0}]]),(0,o.Lk)("div",ge,(0,a.v_)(r.controlSettings.hue)+"Â°",1),t[4]||(t[4]=(0,o.Lk)("label",{for:"color-picker"},"Text Color:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"color",id:"color-picker","onUpdate:modelValue":t[1]||(t[1]=e=>r.controlSettings.color=e)},null,512),[[s.Jo,r.controlSettings.color]]),t[5]||(t[5]=(0,o.Lk)("label",{for:"opacity"},"Opacity:",-1)),(0,o.bo)((0,o.Lk)("input",{type:"range",id:"opacity","onUpdate:modelValue":t[2]||(t[2]=e=>r.controlSettings.opacity=e),min:"0",max:"100"},null,512),[[s.Jo,r.controlSettings.opacity,void 0,{number:!0}]]),(0,o.Lk)("div",he,(0,a.v_)(r.controlSettings.opacity)+"%",1)])])}var fe={name:"ColorControls",data(){return{controlSettings:{hue:0,color:"#ffffff",opacity:100}}},emits:["update"],mounted(){},watch:{controlSettings:{handler(e){this.$emit("update",e)},deep:!0}}};const ye=(0,y.A)(fe,[["render",me]]);var ve=ye;const be={class:"control-group"},ke={class:"sub-controls"},Le={class:"dual-slider"},Se={class:"dual-slider"},xe={class:"dual-slider"},Ce={class:"dual-slider"},Te={class:"dual-slider"};function we(e,t,i,n,a,r){return(0,o.uX)(),(0,o.CE)("div",be,[t[20]||(t[20]=(0,o.Lk)("h3",null,"Animation Settings",-1)),(0,o.Lk)("div",ke,[t[15]||(t[15]=(0,o.Lk)("label",{for:"vibrate-speed"},"Animation Speed:",-1)),(0,o.Lk)("div",Le,[(0,o.bo)((0,o.Lk)("input",{type:"range",id:"vibrate-speed","onUpdate:modelValue":t[0]||(t[0]=e=>a.controlSettings.vibrateSpeed=e),min:"10",max:"500"},null,512),[[s.Jo,a.controlSettings.vibrateSpeed,void 0,{number:!0}]]),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=e=>a.controlSettings.vibrateSpeed=e),min:"10",max:"500",class:"number-input"},null,512),[[s.Jo,a.controlSettings.vibrateSpeed,void 0,{number:!0}]]),t[10]||(t[10]=(0,o.Lk)("div",{class:"value-display"},"ms",-1))]),t[16]||(t[16]=(0,o.Lk)("label",{for:"vibrate-intensity"},"Vibration Intensity:",-1)),(0,o.Lk)("div",Se,[(0,o.bo)((0,o.Lk)("input",{type:"range",id:"vibrate-intensity","onUpdate:modelValue":t[2]||(t[2]=e=>a.controlSettings.vibrateIntensity=e),min:"1",max:"10"},null,512),[[s.Jo,a.controlSettings.vibrateIntensity,void 0,{number:!0}]]),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=e=>a.controlSettings.vibrateIntensity=e),min:"1",max:"10",class:"number-input"},null,512),[[s.Jo,a.controlSettings.vibrateIntensity,void 0,{number:!0}]]),t[11]||(t[11]=(0,o.Lk)("div",{class:"value-display"},"x",-1))]),t[17]||(t[17]=(0,o.Lk)("label",{for:"blur-amount"},"Blur Amount:",-1)),(0,o.Lk)("div",xe,[(0,o.bo)((0,o.Lk)("input",{type:"range",id:"blur-amount","onUpdate:modelValue":t[4]||(t[4]=e=>a.controlSettings.blurAmount=e),min:"0",max:"10",step:"0.5"},null,512),[[s.Jo,a.controlSettings.blurAmount,void 0,{number:!0}]]),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=e=>a.controlSettings.blurAmount=e),min:"0",max:"10",step:"0.5",class:"number-input"},null,512),[[s.Jo,a.controlSettings.blurAmount,void 0,{number:!0}]]),t[12]||(t[12]=(0,o.Lk)("div",{class:"value-display"},"px",-1))]),t[18]||(t[18]=(0,o.Lk)("label",{for:"random-amount"},"Random Letters (%):",-1)),(0,o.Lk)("div",Ce,[(0,o.bo)((0,o.Lk)("input",{type:"range",id:"random-amount","onUpdate:modelValue":t[6]||(t[6]=e=>a.controlSettings.globalRandomAmount=e),min:"1",max:"100"},null,512),[[s.Jo,a.controlSettings.globalRandomAmount,void 0,{number:!0}]]),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":t[7]||(t[7]=e=>a.controlSettings.globalRandomAmount=e),min:"1",max:"100",class:"number-input"},null,512),[[s.Jo,a.controlSettings.globalRandomAmount,void 0,{number:!0}]]),t[13]||(t[13]=(0,o.Lk)("div",{class:"value-display"},"%",-1))]),t[19]||(t[19]=(0,o.Lk)("label",{for:"interval-speed"},"Effect Interval:",-1)),(0,o.Lk)("div",Te,[(0,o.bo)((0,o.Lk)("input",{type:"range",id:"interval-speed","onUpdate:modelValue":t[8]||(t[8]=e=>a.controlSettings.intervalSpeed=e),min:"50",max:"1000"},null,512),[[s.Jo,a.controlSettings.intervalSpeed,void 0,{number:!0}]]),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":t[9]||(t[9]=e=>a.controlSettings.intervalSpeed=e),min:"50",max:"1000",class:"number-input"},null,512),[[s.Jo,a.controlSettings.intervalSpeed,void 0,{number:!0}]]),t[14]||(t[14]=(0,o.Lk)("div",{class:"value-display"},"ms",-1))])])])}var $e={name:"AnimationControls",data(){return{animationInterval:null,controlSettings:{vibrateSpeed:50,vibrateIntensity:1,blurAmount:2,globalRandomAmount:50,intervalSpeed:200}}},watch:{controlSettings:{handler(e){this.animationInterval&&clearInterval(this.animationInterval),this.$emit("update",{vibrateSpeed:e.vibrateSpeed,vibrateIntensity:e.vibrateIntensity,blurAmount:e.blurAmount,globalRandomAmount:e.globalRandomAmount,intervalSpeed:e.intervalSpeed})},deep:!0}},methods:{updateSettings(){this.animationInterval&&clearInterval(this.animationInterval)}}};const Ve=(0,y.A)($e,[["render",we],["__scopeId","data-v-999078e4"]]);var Ue=Ve;const Ee={class:"control-group backdrop-control"},Ie={class:"filter-control"},Ae={class:"filter-control"},Me={class:"filter-control"},Re={class:"filter-control"};function Fe(e,t,i,n,r,l){return(0,o.uX)(),(0,o.CE)("div",Ee,[t[12]||(t[12]=(0,o.Lk)("h3",null,"Backdrop Filter",-1)),(0,o.Lk)("div",Ie,[(0,o.Lk)("label",null,[t[8]||(t[8]=(0,o.eW)(" Blur ")),(0,o.bo)((0,o.Lk)("input",{type:"range","onUpdate:modelValue":t[0]||(t[0]=e=>r.settings.backdropBlur=e),min:"0",max:"20",step:"0.5",onInput:t[1]||(t[1]=(...e)=>l.updateSettings&&l.updateSettings(...e))},null,544),[[s.Jo,r.settings.backdropBlur,void 0,{number:!0}]]),(0,o.Lk)("span",null,(0,a.v_)(r.settings.backdropBlur)+"px",1)])]),(0,o.Lk)("div",Ae,[(0,o.Lk)("label",null,[t[9]||(t[9]=(0,o.eW)(" Brightness ")),(0,o.bo)((0,o.Lk)("input",{type:"range","onUpdate:modelValue":t[2]||(t[2]=e=>r.settings.backdropBrightness=e),min:"0",max:"200",step:"5",onInput:t[3]||(t[3]=(...e)=>l.updateSettings&&l.updateSettings(...e))},null,544),[[s.Jo,r.settings.backdropBrightness,void 0,{number:!0}]]),(0,o.Lk)("span",null,(0,a.v_)(r.settings.backdropBrightness)+"%",1)])]),(0,o.Lk)("div",Me,[(0,o.Lk)("label",null,[t[10]||(t[10]=(0,o.eW)(" Contrast ")),(0,o.bo)((0,o.Lk)("input",{type:"range","onUpdate:modelValue":t[4]||(t[4]=e=>r.settings.backdropContrast=e),min:"0",max:"200",step:"5",onInput:t[5]||(t[5]=(...e)=>l.updateSettings&&l.updateSettings(...e))},null,544),[[s.Jo,r.settings.backdropContrast,void 0,{number:!0}]]),(0,o.Lk)("span",null,(0,a.v_)(r.settings.backdropContrast)+"%",1)])]),(0,o.Lk)("div",Re,[(0,o.Lk)("label",null,[t[11]||(t[11]=(0,o.eW)(" Saturation ")),(0,o.bo)((0,o.Lk)("input",{type:"range","onUpdate:modelValue":t[6]||(t[6]=e=>r.settings.backdropSaturate=e),min:"0",max:"200",step:"5",onInput:t[7]||(t[7]=(...e)=>l.updateSettings&&l.updateSettings(...e))},null,544),[[s.Jo,r.settings.backdropSaturate,void 0,{number:!0}]]),(0,o.Lk)("span",null,(0,a.v_)(r.settings.backdropSaturate)+"%",1)])])])}var Xe={name:"BackdropControls",data(){return{settings:{backdropBlur:0,backdropBrightness:100,backdropContrast:100,backdropSaturate:100}}},methods:{updateSettings(){this.$emit("update",this.settings)}}};const _e=(0,y.A)(Xe,[["render",Fe],["__scopeId","data-v-661c5235"]]);var Be=_e;const De={class:"control-group"},Oe={class:"recording-controls"},ze={key:0,class:"record-indicator"},We={key:0,class:"recording-info"},qe={key:1,class:"recording-settings"};function Ke(e,t,i,n,r,l){return(0,o.uX)(),(0,o.CE)("div",De,[t[6]||(t[6]=(0,o.Lk)("h3",null,"Screen Recording",-1)),(0,o.Lk)("div",Oe,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>l.toggleRecording&&l.toggleRecording(...e)),class:(0,a.C4)({recording:r.isRecording})},[(0,o.eW)((0,a.v_)(r.isRecording?"Stop Recording":"Start Recording")+" ",1),r.isRecording?((0,o.uX)(),(0,o.CE)("span",ze)):(0,o.Q3)("",!0)],2),r.isRecording?((0,o.uX)(),(0,o.CE)("div",We,(0,a.v_)(l.formatTime(r.recordingTime)),1)):(0,o.Q3)("",!0),r.isRecording?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",qe,[(0,o.Lk)("label",null,[t[4]||(t[4]=(0,o.eW)(" Quality: ")),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.settings.quality=e)},t[3]||(t[3]=[(0,o.Lk)("option",{value:"max"},"Maximum",-1),(0,o.Lk)("option",{value:"high"},"High",-1),(0,o.Lk)("option",{value:"medium"},"Medium",-1)]),512),[[s.u1,r.settings.quality]])]),(0,o.Lk)("label",null,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=e=>r.settings.captureAudio=e)},null,512),[[s.lH,r.settings.captureAudio]]),t[5]||(t[5]=(0,o.eW)(" Include Audio "))])]))])])}var He={name:"RecordingControls",data(){return{isRecording:!1,mediaRecorder:null,recordedChunks:[],recordingTime:0,timer:null,settings:{quality:"high",captureAudio:!0},qualityPresets:{max:{videoBitsPerSecond:12e6,frameRate:60},high:{videoBitsPerSecond:8e6,frameRate:60},medium:{videoBitsPerSecond:5e6,frameRate:30}}}},methods:{async startRecording(){try{const t=this.qualityPresets[this.settings.quality],i=await navigator.mediaDevices.getDisplayMedia({video:{frameRate:{ideal:t.frameRate},displaySurface:"browser"},audio:!1});let s=i;if(this.settings.captureAudio)try{const e=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,sampleRate:48e3}}),t=[...i.getTracks(),...e.getTracks()];s=new MediaStream(t)}catch(e){console.warn("Audio capture failed:",e)}const n={mimeType:"video/webm;codecs=vp9",videoBitsPerSecond:t.videoBitsPerSecond,audioBitsPerSecond:256e3};MediaRecorder.isTypeSupported(n.mimeType)||(n.mimeType="video/webm;codecs=vp8",MediaRecorder.isTypeSupported(n.mimeType)||(n.mimeType="video/webm")),this.recordedChunks=[],this.recordingTime=0,this.mediaRecorder=new MediaRecorder(s,n),this.mediaRecorder.ondataavailable=e=>{e.data.size>0&&this.recordedChunks.push(e.data)},this.mediaRecorder.onstop=()=>{const e=new Blob(this.recordedChunks,{type:"video/webm"}),t=URL.createObjectURL(e),i=document.createElement("a"),n=(new Date).toISOString().replace(/[:.]/g,"-");i.href=t,i.download=`screen-recording-${n}.webm`,i.click(),URL.revokeObjectURL(t),s.getTracks().forEach(e=>e.stop()),this.isRecording=!1,clearInterval(this.timer)},this.mediaRecorder.start(1e3),this.isRecording=!0,this.timer=setInterval(()=>{this.recordingTime++},1e3)}catch(t){console.error("Error starting recording:",t),alert("Failed to start recording. Please make sure you have granted the necessary permissions.")}},stopRecording(){this.mediaRecorder&&"inactive"!==this.mediaRecorder.state&&this.mediaRecorder.stop()},async toggleRecording(){this.isRecording?this.stopRecording():await this.startRecording()},formatTime(e){const t=Math.floor(e/60),i=e%60;return`${t.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}}};const Pe=(0,y.A)(He,[["render",Ke],["__scopeId","data-v-1574fea4"]]);var Je=Pe;const je={class:"video-controls"},Ye={class:"control-header"},Qe={class:"layers-list"},Ne=["onClick"],Ge={class:"layer-info"},Ze=["onClick"],et=["onUpdate:modelValue"],tt={class:"layer-blend"},it={class:"layer-actions"},st=["onClick","disabled"],nt=["onClick","disabled"],ot=["onClick"],at=["onClick","disabled"],rt={key:0,class:"layer-controls"},lt={class:"control-section"},dt={class:"url-input-group"},ct=["onUpdate:modelValue","onKeyup"],ut=["onClick"],pt=["onChange"],gt={class:"control-section"},ht=["onUpdate:modelValue"],mt={class:"control-section"},ft={style:{display:"flex","justify-content":"space-between","align-items":"center"}},yt=["onClick"],vt={style:{display:"flex","align-items":"center",gap:"10px"}},bt=["onUpdate:modelValue"],kt={class:"control-section"},Lt={class:"filter-grid"},St={class:"filter-item"},xt=["onUpdate:modelValue"],Ct={class:"filter-item"},Tt=["onUpdate:modelValue"],wt={class:"filter-item"},$t=["onUpdate:modelValue"],Vt={class:"filter-item"},Ut=["onUpdate:modelValue"],Et={class:"filter-item"},It=["onUpdate:modelValue"],At={class:"filter-item"},Mt=["onUpdate:modelValue"],Rt={class:"filter-item"},Ft=["onUpdate:modelValue"],Xt={class:"filter-item"},_t=["onUpdate:modelValue"],Bt={class:"control-section"},Dt={class:"filter-grid"},Ot={class:"filter-item"},zt=["onUpdate:modelValue"],Wt={class:"filter-item"},qt=["onUpdate:modelValue"],Kt={class:"filter-item"},Ht=["onUpdate:modelValue"],Pt={class:"filter-item"},Jt=["onUpdate:modelValue"],jt={class:"control-section"},Yt={class:"effects-grid"},Qt={class:"effect-toggle"},Nt=["onUpdate:modelValue"],Gt=["onUpdate:modelValue"],Zt={key:1},ei={class:"effect-toggle"},ti=["onUpdate:modelValue"],ii=["onUpdate:modelValue"],si={class:"effect-toggle"},ni=["onUpdate:modelValue"],oi=["onUpdate:modelValue"],ai={key:1},ri={class:"effect-toggle"},li=["onUpdate:modelValue"],di={class:"effect-toggle"},ci=["onUpdate:modelValue"],ui={class:"effect-toggle"},pi=["onUpdate:modelValue"],gi={class:"effect-toggle"},hi=["onUpdate:modelValue"],mi=["onUpdate:modelValue"],fi={key:1},yi={class:"effect-toggle"},vi=["onUpdate:modelValue"],bi={class:"effect-toggle"},ki=["onUpdate:modelValue"],Li={class:"effect-toggle"},Si=["onUpdate:modelValue"],xi=["onUpdate:modelValue"],Ci={key:1},Ti={class:"control-section"},wi={class:"playback-controls"},$i=["onClick"],Vi=["onUpdate:modelValue"],Ui=["onUpdate:modelValue"],Ei={class:"filter-item"},Ii=["onUpdate:modelValue"];function Ai(e,t,i,n,r,l){return(0,o.uX)(),(0,o.CE)("div",je,[(0,o.Lk)("div",Ye,[t[2]||(t[2]=(0,o.Lk)("h3",null,"Video Layers",-1)),(0,o.Lk)("button",{onClick:t[0]||(t[0]=e=>n.videoStore.addLayer()),class:"add-layer-btn"},"+ Add Layer")]),(0,o.Lk)("div",Qe,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.videoStore.layers,(e,i)=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:(0,a.C4)(["layer-item",{active:r.expandedLayer===e.id}])},[(0,o.Lk)("div",{class:"layer-header",onClick:t=>l.toggleLayer(e.id)},[(0,o.Lk)("div",Ge,[(0,o.Lk)("button",{onClick:(0,s.D$)(t=>n.videoStore.toggleLayerVisibility(e.id),["stop"]),class:"visibility-btn"},(0,a.v_)(e.visible?"ðŸ‘":"ðŸ‘â€ðŸ—¨"),9,Ze),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t=>e.name=t,onClick:t[1]||(t[1]=(0,s.D$)(()=>{},["stop"])),class:"layer-name-input",placeholder:"Layer name"},null,8,et),[[s.Jo,e.name]]),(0,o.Lk)("span",tt,(0,a.v_)(e.blendMode),1)]),(0,o.Lk)("div",it,[(0,o.Lk)("button",{onClick:(0,s.D$)(e=>l.moveLayerUp(i),["stop"]),disabled:0===i,class:"move-btn"}," â–² ",8,st),(0,o.Lk)("button",{onClick:(0,s.D$)(e=>l.moveLayerDown(i),["stop"]),disabled:i===n.videoStore.layers.length-1,class:"move-btn"}," â–¼ ",8,nt),(0,o.Lk)("button",{onClick:(0,s.D$)(t=>n.videoStore.duplicateLayer(e.id),["stop"]),class:"duplicate-btn"}," ðŸ“‹ ",8,ot),(0,o.Lk)("button",{onClick:(0,s.D$)(t=>n.videoStore.removeLayer(e.id),["stop"]),disabled:1===n.videoStore.layers.length,class:"remove-btn"}," âœ• ",8,at)])],8,Ne),r.expandedLayer===e.id?((0,o.uX)(),(0,o.CE)("div",rt,[(0,o.Lk)("div",lt,[t[3]||(t[3]=(0,o.Lk)("h4",null,"Source",-1)),(0,o.Lk)("div",dt,[(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":t=>e.src=t,onKeyup:(0,s.jR)(t=>l.loadVideo(e.id),["enter"]),placeholder:"Enter video URL or YouTube link",class:"url-input"},null,40,ct),[[s.Jo,e.src]]),(0,o.Lk)("button",{onClick:t=>l.loadVideo(e.id),class:"load-btn"},"Load",8,ut)]),(0,o.Lk)("input",{type:"file",onChange:t=>l.handleFileUpload(t,e.id),accept:"video/*",class:"file-input"},null,40,pt)]),(0,o.Lk)("div",gt,[t[5]||(t[5]=(0,o.Lk)("h4",null,"Blend Mode",-1)),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":t=>e.blendMode=t},t[4]||(t[4]=[(0,o.Fv)('<option value="normal" data-v-ac3dde9a>Normal</option><option value="multiply" data-v-ac3dde9a>Multiply</option><option value="screen" data-v-ac3dde9a>Screen</option><option value="overlay" data-v-ac3dde9a>Overlay</option><option value="darken" data-v-ac3dde9a>Darken</option><option value="lighten" data-v-ac3dde9a>Lighten</option><option value="color-dodge" data-v-ac3dde9a>Color Dodge</option><option value="color-burn" data-v-ac3dde9a>Color Burn</option><option value="hard-light" data-v-ac3dde9a>Hard Light</option><option value="soft-light" data-v-ac3dde9a>Soft Light</option><option value="difference" data-v-ac3dde9a>Difference</option><option value="exclusion" data-v-ac3dde9a>Exclusion</option><option value="hue" data-v-ac3dde9a>Hue</option><option value="saturation" data-v-ac3dde9a>Saturation</option><option value="color" data-v-ac3dde9a>Color</option><option value="luminosity" data-v-ac3dde9a>Luminosity</option>',16)]),8,ht),[[s.u1,e.blendMode]])]),(0,o.Lk)("div",mt,[(0,o.Lk)("div",ft,[t[6]||(t[6]=(0,o.Lk)("h4",null,"Opacity",-1)),(0,o.Lk)("button",{onClick:t=>l.resetLayerSettings(e.id),class:"reset-layer-btn",title:"Reset opacity, filters, and transform"}," Reset Layer ",8,yt)]),(0,o.Lk)("div",vt,[(0,o.bo)((0,o.Lk)("input",{type:"range","onUpdate:modelValue":t=>e.opacity=t,min:"0",max:"100",class:"slider"},null,8,bt),[[s.Jo,e.opacity,void 0,{number:!0}]]),(0,o.Lk)("span",null,(0,a.v_)(e.opacity)+"%",1)])]),(0,o.Lk)("div",kt,[t[15]||(t[15]=(0,o.Lk)("h4",null,"Filters",-1)),(0,o.Lk)("div",Lt,[(0,o.Lk)("div",St,[t[7]||(t[7]=(0,o.Lk)("label",null,"Blur",-1)),(0,o.bo)((0,o.Lk)("input",{type:"range","onUpdate:modelValue":t=>e.filters.blur=t,min:"0",max:"50"},null,8,xt),[[s.Jo,e.filters.blur,void 0,{number:!0}]]),(0,o.Lk)("span",null,(0,a.v_)(e.filters.blur)+"px",1)]),(0,o.Lk)("div",Ct,[t[8]||(t[8]=(0,o.Lk)("label",null,"Brightness",-1)),(0,o.bo)((0,o.Lk)("input",{type:"range","onUpdate:modelValue":t=>e.filters.brightness=t,min:"0",max:"200"},null,8,Tt),[[s.Jo,e.filters.brightness,void 0,{number:!0}]]),(0,o.Lk)("span",null,(0,a.v_)(e.filters.brightness)+"%",1)]),(0,o.Lk)("div",wt,[t[9]||(t[9]=(0,o.Lk)("label",null,"Contrast",-1)),(0,o.bo)((0,o.Lk)("input",{type:"range","onUpdate:modelValue":t=>e.filters.contrast=t,min:"0",max:"200"},null,8,$t),[[s.Jo,e.filters.contrast,void 0,{number:!0}]]),(0,o.Lk)("span",null,(0,a.v_)(e.filters.contrast)+"%",1)]),(0,o.Lk)("div",Vt,[t[10]||(t[10]=(0,o.Lk)("label",null,"Saturation",-1)),(0,o.bo)((0,o.Lk)("input",{type:"range","onUpdate:modelValue":t=>e.filters.saturate=t,min:"0",max:"200"},null,8,Ut),[[s.Jo,e.filters.saturate,void 0,{number:!0}]]),(0,o.Lk)("span",null,(0,a.v_)(e.filters.saturate)+"%",1)]),(0,o.Lk)("div",Et,[t[11]||(t[11]=(0,o.Lk)("label",null,"Hue Rotate",-1)),(0,o.bo)((0,o.Lk)("input",{type:"range","onUpdate:modelValue":t=>e.filters.hue=t,min:"0",max:"360"},null,8,It),[[s.Jo,e.filters.hue,void 0,{number:!0}]]),(0,o.Lk)("span",null,(0,a.v_)(e.filters.hue)+"Â°",1)]),(0,o.Lk)("div",At,[t[12]||(t[12]=(0,o.Lk)("label",null,"Grayscale",-1)),(0,o.bo)((0,o.Lk)("input",{type:"range","onUpdate:modelValue":t=>e.filters.grayscale=t,min:"0",max:"100"},null,8,Mt),[[s.Jo,e.filters.grayscale,void 0,{number:!0}]]),(0,o.Lk)("span",null,(0,a.v_)(e.filters.grayscale)+"%",1)]),(0,o.Lk)("div",Rt,[t[13]||(t[13]=(0,o.Lk)("label",null,"Sepia",-1)),(0,o.bo)((0,o.Lk)("input",{type:"range","onUpdate:modelValue":t=>e.filters.sepia=t,min:"0",max:"100"},null,8,Ft),[[s.Jo,e.filters.sepia,void 0,{number:!0}]]),(0,o.Lk)("span",null,(0,a.v_)(e.filters.sepia)+"%",1)]),(0,o.Lk)("div",Xt,[t[14]||(t[14]=(0,o.Lk)("label",null,"Invert",-1)),(0,o.bo)((0,o.Lk)("input",{type:"range","onUpdate:modelValue":t=>e.filters.invert=t,min:"0",max:"100"},null,8,_t),[[s.Jo,e.filters.invert,void 0,{number:!0}]]),(0,o.Lk)("span",null,(0,a.v_)(e.filters.invert)+"%",1)])])]),(0,o.Lk)("div",Bt,[t[20]||(t[20]=(0,o.Lk)("h4",null,"Transform",-1)),(0,o.Lk)("div",Dt,[(0,o.Lk)("div",Ot,[t[16]||(t[16]=(0,o.Lk)("label",null,"Scale",-1)),(0,o.bo)((0,o.Lk)("input",{type:"range","onUpdate:modelValue":t=>e.transform.scale=t,min:"50",max:"200"},null,8,zt),[[s.Jo,e.transform.scale,void 0,{number:!0}]]),(0,o.Lk)("span",null,(0,a.v_)(e.transform.scale)+"%",1)]),(0,o.Lk)("div",Wt,[t[17]||(t[17]=(0,o.Lk)("label",null,"Rotate",-1)),(0,o.bo)((0,o.Lk)("input",{type:"range","onUpdate:modelValue":t=>e.transform.rotate=t,min:"0",max:"360"},null,8,qt),[[s.Jo,e.transform.rotate,void 0,{number:!0}]]),(0,o.Lk)("span",null,(0,a.v_)(e.transform.rotate)+"Â°",1)]),(0,o.Lk)("div",Kt,[t[18]||(t[18]=(0,o.Lk)("label",null,"X Position",-1)),(0,o.bo)((0,o.Lk)("input",{type:"range","onUpdate:modelValue":t=>e.transform.x=t,min:"-500",max:"500"},null,8,Ht),[[s.Jo,e.transform.x,void 0,{number:!0}]]),(0,o.Lk)("span",null,(0,a.v_)(e.transform.x)+"px",1)]),(0,o.Lk)("div",Pt,[t[19]||(t[19]=(0,o.Lk)("label",null,"Y Position",-1)),(0,o.bo)((0,o.Lk)("input",{type:"range","onUpdate:modelValue":t=>e.transform.y=t,min:"-500",max:"500"},null,8,Jt),[[s.Jo,e.transform.y,void 0,{number:!0}]]),(0,o.Lk)("span",null,(0,a.v_)(e.transform.y)+"px",1)])])]),(0,o.Lk)("div",jt,[t[32]||(t[32]=(0,o.Lk)("h4",null,"Effects",-1)),(0,o.Lk)("div",Yt,[(0,o.Lk)("div",Qt,[(0,o.Lk)("label",null,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":t=>e.effects.kaleidoscope=t},null,8,Nt),[[s.lH,e.effects.kaleidoscope]]),t[21]||(t[21]=(0,o.eW)(" Kaleidoscope "))]),e.effects.kaleidoscope?(0,o.bo)(((0,o.uX)(),(0,o.CE)("input",{key:0,type:"range","onUpdate:modelValue":t=>e.effects.kaleidoscopeSegments=t,min:"3",max:"12"},null,8,Gt)),[[s.Jo,e.effects.kaleidoscopeSegments,void 0,{number:!0}]]):(0,o.Q3)("",!0),e.effects.kaleidoscope?((0,o.uX)(),(0,o.CE)("span",Zt,(0,a.v_)(e.effects.kaleidoscopeSegments)+" segments",1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",ei,[(0,o.Lk)("label",null,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":t=>e.effects.mirror=t},null,8,ti),[[s.lH,e.effects.mirror]]),t[22]||(t[22]=(0,o.eW)(" Mirror "))]),e.effects.mirror?(0,o.bo)(((0,o.uX)(),(0,o.CE)("select",{key:0,"onUpdate:modelValue":t=>e.effects.mirrorAxis=t},t[23]||(t[23]=[(0,o.Lk)("option",{value:"horizontal"},"Horizontal",-1),(0,o.Lk)("option",{value:"vertical"},"Vertical",-1),(0,o.Lk)("option",{value:"both"},"Both",-1)]),8,ii)),[[s.u1,e.effects.mirrorAxis]]):(0,o.Q3)("",!0)]),(0,o.Lk)("div",si,[(0,o.Lk)("label",null,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":t=>e.effects.pixelate=t},null,8,ni),[[s.lH,e.effects.pixelate]]),t[24]||(t[24]=(0,o.eW)(" Pixelate "))]),e.effects.pixelate?(0,o.bo)(((0,o.uX)(),(0,o.CE)("input",{key:0,type:"range","onUpdate:modelValue":t=>e.effects.pixelSize=t,min:"2",max:"50"},null,8,oi)),[[s.Jo,e.effects.pixelSize,void 0,{number:!0}]]):(0,o.Q3)("",!0),e.effects.pixelate?((0,o.uX)(),(0,o.CE)("span",ai,(0,a.v_)(e.effects.pixelSize)+"px",1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",ri,[(0,o.Lk)("label",null,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":t=>e.effects.edgeDetect=t},null,8,li),[[s.lH,e.effects.edgeDetect]]),t[25]||(t[25]=(0,o.eW)(" Edge Detect "))])]),(0,o.Lk)("div",di,[(0,o.Lk)("label",null,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":t=>e.effects.trails=t},null,8,ci),[[s.lH,e.effects.trails]]),t[26]||(t[26]=(0,o.eW)(" Motion Trails "))])]),(0,o.Lk)("div",ui,[(0,o.Lk)("label",null,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":t=>e.effects.feedbackLoop=t},null,8,pi),[[s.lH,e.effects.feedbackLoop]]),t[27]||(t[27]=(0,o.eW)(" Feedback Loop "))])]),(0,o.Lk)("div",gi,[(0,o.Lk)("label",null,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":t=>e.effects.voronoi=t},null,8,hi),[[s.lH,e.effects.voronoi]]),t[28]||(t[28]=(0,o.eW)(" Voronoi Cells "))]),e.effects.voronoi?(0,o.bo)(((0,o.uX)(),(0,o.CE)("input",{key:0,type:"range","onUpdate:modelValue":t=>e.effects.voronoiCells=t,min:"10",max:"200"},null,8,mi)),[[s.Jo,e.effects.voronoiCells,void 0,{number:!0}]]):(0,o.Q3)("",!0),e.effects.voronoi?((0,o.uX)(),(0,o.CE)("span",fi,(0,a.v_)(e.effects.voronoiCells)+" cells",1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",yi,[(0,o.Lk)("label",null,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":t=>e.effects.rgbSplit=t},null,8,vi),[[s.lH,e.effects.rgbSplit]]),t[29]||(t[29]=(0,o.eW)(" RGB Split "))])]),(0,o.Lk)("div",bi,[(0,o.Lk)("label",null,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":t=>e.effects.datamosh=t},null,8,ki),[[s.lH,e.effects.datamosh]]),t[30]||(t[30]=(0,o.eW)(" Datamosh Glitch "))])]),(0,o.Lk)("div",Li,[(0,o.Lk)("label",null,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":t=>e.effects.chromaKey=t},null,8,Si),[[s.lH,e.effects.chromaKey]]),t[31]||(t[31]=(0,o.eW)(" Chroma Key "))]),e.effects.chromaKey?(0,o.bo)(((0,o.uX)(),(0,o.CE)("input",{key:0,type:"range","onUpdate:modelValue":t=>e.effects.chromaKeyThreshold=t,min:"10",max:"100"},null,8,xi)),[[s.Jo,e.effects.chromaKeyThreshold,void 0,{number:!0}]]):(0,o.Q3)("",!0),e.effects.chromaKey?((0,o.uX)(),(0,o.CE)("span",Ci,"Threshold: "+(0,a.v_)(e.effects.chromaKeyThreshold),1)):(0,o.Q3)("",!0)])])]),(0,o.Lk)("div",Ti,[t[36]||(t[36]=(0,o.Lk)("h4",null,"Playback",-1)),(0,o.Lk)("div",wi,[(0,o.Lk)("button",{onClick:t=>l.togglePlayback(e.id)},(0,a.v_)(e.playback.isPlaying?"â¸ Pause":"â–¶ Play"),9,$i),(0,o.Lk)("label",null,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":t=>e.playback.loop=t},null,8,Vi),[[s.lH,e.playback.loop]]),t[33]||(t[33]=(0,o.eW)(" Loop "))]),(0,o.Lk)("label",null,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox","onUpdate:modelValue":t=>e.playback.isMuted=t},null,8,Ui),[[s.lH,e.playback.isMuted]]),t[34]||(t[34]=(0,o.eW)(" Mute "))]),(0,o.Lk)("div",Ei,[t[35]||(t[35]=(0,o.Lk)("label",null,"Speed",-1)),(0,o.bo)((0,o.Lk)("input",{type:"range","onUpdate:modelValue":t=>e.playback.playbackRate=t,min:"0.25",max:"2",step:"0.25"},null,8,Ii),[[s.Jo,e.playback.playbackRate,void 0,{number:!0}]]),(0,o.Lk)("span",null,(0,a.v_)(e.playback.playbackRate)+"x",1)])])])])):(0,o.Q3)("",!0)],2))),128))])])}var Mi={name:"VideoLayerControls",data(){return{expandedLayer:null}},setup(){const e=x();return{videoStore:e}},mounted(){this.videoStore.layers.length>0&&(this.expandedLayer=this.videoStore.layers[0].id)},methods:{toggleLayer(e){this.expandedLayer=this.expandedLayer===e?null:e},loadVideo(e){const t=this.videoStore.layers.find(t=>t.id===e);console.log("[VideoLayerControls] Load button clicked",{layerId:e,layer:t,src:t?.src}),t&&t.src?(console.log("[VideoLayerControls] Calling updateLayer with src:",t.src),this.videoStore.updateLayer(e,{src:t.src,file:null})):console.warn("[VideoLayerControls] No layer or src found",{layer:t,src:t?.src})},handleFileUpload(e,t){const i=e.target.files[0];console.log("[VideoLayerControls] File selected",{layerId:t,fileName:i?.name,fileSize:i?.size,fileType:i?.type}),i&&(console.log("[VideoLayerControls] Calling updateLayer with file"),this.videoStore.updateLayer(t,{file:i,src:""}))},togglePlayback(e){const t=this.videoStore.layers.find(t=>t.id===e);t&&this.videoStore.updateLayer(e,{playback:{...t.playback,isPlaying:!t.playback.isPlaying}})},moveLayerUp(e){e>0&&this.videoStore.moveLayer(e,e-1)},moveLayerDown(e){e<this.videoStore.layers.length-1&&this.videoStore.moveLayer(e,e+1)},resetLayerSettings(e){console.log("[VideoLayerControls] Resetting layer settings",{layerId:e}),this.videoStore.updateLayer(e,{opacity:100,filters:{blur:0,brightness:100,contrast:100,saturate:100,hue:0,grayscale:0,sepia:0,invert:0},transform:{scale:100,x:0,y:0,rotate:0}})}}};const Ri=(0,y.A)(Mi,[["render",Ai],["__scopeId","data-v-ac3dde9a"]]);var Fi=Ri,Xi={name:"ControlPanel",components:{BlendControls:ce,ColorControls:ve,AnimationControls:Ue,BackdropControls:Be,RecordingControls:Je,VideoLayerControls:Fi},emits:["update","fileUpload","urlInput","muteChange","startVideo","stopVideo","audioFileUpload","audioUrlInput","audioMuteChange"],data(){return{selectedFileName:"",selectedAudioFileName:"",isMuted:!0,videoUrl:"",audioUrl:"",isAudioMuted:!1,settings:{blendMode:"difference",textTypes:[],effectType:"vibration",letterSpacing:[0,0,0],hue:0,color:"#ffffff",opacity:100,vibrateSpeed:50,vibrateIntensity:1,blurAmount:2,randomAmount:[50,50,50],intervalSpeed:200,textLines:["INSERT","SUN'O3.08","BAR OOST"],fontSize:[120,120,120],margin:[0,0,0],marginTop:[0,0,0],backdropBlur:0,backdropBrightness:100,backdropContrast:100,backdropSaturate:100}}},methods:{handleReset(){confirm("Are you sure you want to reset all settings to defaults?")&&this.$emit("reset")},emitAudioUrl(){this.audioUrl&&this.$emit("audioUrlInput",this.audioUrl)},emitAudioFile(e){const t=e.target.files[0];t&&(this.selectedAudioFileName=t.name,this.$emit("audio-file-upload",t))},emitAudioMute(){this.$emit("audioMuteChange",this.isAudioMuted)},setTextType(e,t){this.settings.textTypes||(this.settings.textTypes=[]),this.settings.textTypes[e]="paragraph"===t?"paragraph":null,this.onUpdate(this.settings)},addLine(){this.settings.textLines.push(""),this.settings.margin.push(0),this.settings.marginTop.push(0),this.settings.letterSpacing.push(0),this.settings.randomAmount.push(0),this.settings.textTypes||this.$set(this.settings,"textTypes",[]),this.settings.textTypes.push(null),this.onUpdate(this.settings)},removeLine(e){this.settings.textLines.splice(e,1),this.settings.margin.splice(e,1),this.settings.marginTop.splice(e,1),this.settings.letterSpacing.splice(e,1),this.settings.randomAmount.splice(e,1),this.settings.textTypes.splice(e,1),this.onUpdate(this.settings)},startVideo(){this.$emit("startVideo",!0)},stopVideo(){this.$emit("stopVideo",!1)},handleMuteChange(){this.$emit("muteChange",this.isMuted)},handleFileUpload(e){const t=e.target.files[0];t&&(this.selectedFileName=t.name,this.$emit("fileUpload",t))},handleUrlInput(){this.videoUrl&&this.$emit("urlInput",this.videoUrl)},onEffectChoice(){console.log(this.settings.effectType),this.$emit("changeEffect",this.settings)},onUpdate(e){console.log(e),Object.keys(e).forEach(t=>{this.settings[t]=e[t]}),console.log(this.settings),this.$emit("update",this.settings)}}};const _i=(0,y.A)(Xi,[["render",ie],["__scopeId","data-v-656fe619"]]);var Bi=_i;const Di={key:0,class:"position-guides"},Oi=["onMousedown","onTouchstart"],zi={key:0,class:"drag-handle"};function Wi(e,t,i,s,n,r){return(0,o.uX)(),(0,o.CE)("div",{class:"vibration-demo",onMousemove:t[0]||(t[0]=(...e)=>s.handleMouseMove&&s.handleMouseMove(...e)),onTouchmove:t[1]||(t[1]=(...e)=>s.handleTouchMove&&s.handleTouchMove(...e))},[i.settings.dragMode?((0,o.uX)(),(0,o.CE)("div",Di,t[2]||(t[2]=[(0,o.Lk)("div",{class:"position-guide x-axis"},null,-1),(0,o.Lk)("div",{class:"position-guide y-axis"},null,-1)]))):(0,o.Q3)("",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(s.textLinesVar,(e,t)=>((0,o.uX)(),(0,o.CE)("div",{class:(0,a.C4)(["vibration",{"is-paragraph":r.isParagraph(t),draggable:i.settings.dragMode}]),key:t,style:(0,a.Tr)([r.rootStyles,s.getDraggableStyle(t)]),onMousedown:e=>s.handleMouseDown(e,t),onTouchstart:e=>s.handleTouchStart(e,t)},[i.settings.dragMode?((0,o.uX)(),(0,o.CE)("span",zi,"â‹®â‹®")):(0,o.Q3)("",!0),r.isParagraph(t)?((0,o.uX)(!0),(0,o.CE)(o.FK,{key:1},(0,o.pI)(r.splitIntoParagraphLines(e),(e,i)=>((0,o.uX)(),(0,o.CE)("p",{key:`p-${t}-${i}`},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.splitIntoWords(e),(e,s)=>((0,o.uX)(),(0,o.CE)("span",{key:`${t}-${i}-${s}`,class:(0,a.C4)({vibrate:r.isWordVibrating(t,i,s)}),style:(0,a.Tr)(r.getFullStyle(t,s))},(0,a.v_)(e),7))),128))]))),128)):((0,o.uX)(!0),(0,o.CE)(o.FK,{key:2},(0,o.pI)(e.split(""),(e,i)=>((0,o.uX)(),(0,o.CE)("span",{key:`${t}-${i}`,class:(0,a.C4)({vibrate:r.isLetterVibrating(t,i)}),style:(0,a.Tr)(r.getFullStyle(t,i))},(0,a.v_)(e),7))),128))],46,Oi))),128))],32)}var qi=i(953);function Ki(e,t){const i=(0,qi.KR)({}),s=(0,qi.KR)(null),n=(0,qi.KR)(null),a=()=>{i.value={},t.value.forEach((t,s)=>{const n="paragraph"===e.value.textTypes?.[s];if(n){const n=[],o=t.split("\n").filter(e=>e.trim());o.forEach((e,t)=>{const i=e.split(/(\s+)/).map(e=>""===e.trim()?" ":e);i.forEach((e,i)=>{e.trim()&&n.push({pLineIndex:t,wordIndex:i,key:`${s}-${t}-${i}`,word:e})})});const a=e.value.randomAmount[s]&&0!==e.value.randomAmount[s]?e.value.randomAmount[s]:e.value.globalRandomAmount||50,r=Math.ceil(n.length*(a/100)),l=Array.from({length:n.length},(e,t)=>t);for(let e=l.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[l[e],l[t]]=[l[t],l[e]]}for(let e=0;e<r;e++)if(e<l.length){const t=n[l[e]];i.value[t.key]=!0}}else{const n=t.length,o=0===e.value.randomAmount[s]?e.value.globalRandomAmount:e.value.randomAmount[s],a=Math.floor(n*(o/100)),r=Array.from({length:n},(e,t)=>t);for(let e=r.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[r[e],r[t]]=[r[t],r[e]]}for(let e=0;e<a;e++){const t=`${s}-${r[e]}`;i.value[t]=!0}}})},r=t=>{n.value||(n.value=t);const i=t-n.value;i>=e.value.intervalSpeed&&(a(),n.value=t),s.value=requestAnimationFrame(r)},l=()=>{s.value&&cancelAnimationFrame(s.value),n.value=null,s.value=requestAnimationFrame(r)},d=()=>{s.value&&(cancelAnimationFrame(s.value),s.value=null)};return(0,o.xo)(()=>{d()}),{vibratingItems:i,startAnimation:l,stopAnimation:d}}var Hi=i(9460);function Pi(e){const t=(0,qi.KR)({active:!1,index:null,startX:0,startY:0,offsetX:0,offsetY:0}),i=(0,Hi.A)((t,i)=>{e("update",{margin:t,marginTop:i})},16),s=(e,i,s,n)=>{const o=e.touches?e.touches[0]:e;t.value={active:!0,index:i,startX:o.clientX,startY:o.clientY,offsetX:s[i]||0,offsetY:n[i]||0},document.body.style.cursor="grabbing",document.body.style.userSelect="none"},n=(e,s,n,o=!1)=>{if(!t.value.active)return;e.preventDefault();const a=e.touches?e.touches[0]:e,r=a.clientX-t.value.startX,l=a.clientY-t.value.startY;let d=t.value.offsetX+r,c=t.value.offsetY+l;if(o){const t=e.shiftKey?10:5;d=Math.round(d/t)*t,c=Math.round(c/t)*t}const u=s.map((e,i)=>i===t.value.index?d:e),p=n.map((e,i)=>i===t.value.index?c:e);i(u,p)},a=()=>{t.value.active&&(t.value.active=!1,document.body.style.cursor="default",document.body.style.userSelect="auto")},r=(e,t,i,s)=>{n(e,t,i,s)},l=()=>{a()};return(0,o.sV)(()=>{document.addEventListener("mouseup",l),document.addEventListener("touchend",l)}),(0,o.xo)(()=>{document.removeEventListener("mouseup",l),document.removeEventListener("touchend",l)}),{dragging:t,startDrag:s,onDrag:r,stopDrag:a}}var Ji={name:"TextVibration",props:{settings:{type:Object,required:!0}},emits:["update"],setup(e,{emit:t}){const i=(0,qi.KR)(e.settings.textLines),{vibratingItems:s,startAnimation:n,stopAnimation:a}=Ki((0,o.EW)(()=>e.settings),i),{dragging:r,startDrag:l,onDrag:d}=Pi(t);(0,o.wB)(()=>e.settings.textLines,e=>{i.value=e}),(0,o.sV)(()=>{n()}),(0,o.xo)(()=>{a()});const c=(t,i)=>{e.settings.dragMode&&l(t,i,e.settings.margin,e.settings.marginTop)},u=(t,i)=>{e.settings.dragMode&&l(t,i,e.settings.margin,e.settings.marginTop)},p=t=>{e.settings.dragMode&&d(t,e.settings.margin,e.settings.marginTop,!0)},g=t=>{e.settings.dragMode&&d(t,e.settings.margin,e.settings.marginTop,!0)},h=t=>e.settings.dragMode?{position:"absolute",left:"50%",top:"50%",transform:`translate(calc(-50% + ${e.settings.margin[t]}px), calc(-50% + ${e.settings.marginTop[t]}px))`,cursor:r.value.active&&r.value.index===t?"grabbing":"grab",userSelect:"none"}:{marginRight:`${e.settings.margin?.[t]||0}px`,marginTop:`${e.settings.marginTop?.[t]||0}px`};return{textLinesVar:i,vibratingItems:s,dragging:r,handleMouseDown:c,handleTouchStart:u,handleMouseMove:p,handleTouchMove:g,getDraggableStyle:h}},computed:{rootStyles(){return{"--translate-x":`${this.settings.vibrateIntensity}px`,"--translate-y":`${this.settings.vibrateIntensity}px`,"--vibrate-speed":`${this.settings.vibrateSpeed}ms`,mixBlendMode:this.settings.blendMode}},textLineFontSize(){return Array.isArray(this.settings.fontSize)?this.settings.fontSize:this.settings.textLines.map(()=>this.settings.fontSize)}},methods:{splitIntoWords(e){return e.split(/(\s+)/).map(e=>""===e.trim()?" ":e)},isWordVibrating(e,t,i){const s=`${e}-${t}-${i}`;return this.vibratingItems[s]||!1},isParagraph(e){return"paragraph"===this.settings.textTypes?.[e]},splitIntoParagraphLines(e){return e.split("\n").filter(e=>e.trim())},getFullStyle(e,t){const i=this.isLetterVibrating(e,t),s=this.textLineFontSize[e]||this.settings.fontSize,n=`${this.settings.letterSpacing?.[e]||0}px`,o=`hue-rotate(${this.settings.hue}deg)`,a=i?`blur(${this.settings.blurAmount}px)`:"",r=i?`drop-shadow(0 0 ${1.5*this.settings.blurAmount}px ${this.settings.color})`:"",l=[o,a,r].filter(Boolean).join(" "),d=i?1.05:1;return{fontSize:`${s}px`,color:this.settings.color,opacity:this.settings.opacity/100,filter:l,transform:`scale(${d})`,transition:"all 300ms ease",letterSpacing:n}},isLetterVibrating(e,t){const i=`${e}-${t}`;return this.vibratingItems[i]||!1}}};const ji=(0,y.A)(Ji,[["render",Wi],["__scopeId","data-v-63641248"]]);var Yi=ji;const Qi={class:"vibration-demo"},Ni=["data-heading"];function Gi(e,t,i,s,n,r){return(0,o.uX)(),(0,o.CE)("div",Qi,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.textLinesVar,(e,t)=>((0,o.uX)(),(0,o.CE)("h1",{key:t,style:(0,a.Tr)(r.rootStyles),contenteditable:"","data-heading":`${e}`},(0,a.v_)(e),13,Ni))),128))])}var Zi={name:"TextDistort",props:{settings:{type:Object,default:()=>({hue:0,opacity:100,color:"#ffffff",blendMode:"difference",randomAmount:50,intervalSpeed:200,blurAmount:2,vibrateIntensity:2,vibrateSpeed:200,textLines:["TEXT"],fontSize:80})}},computed:{rootStyles(){return{"--translate-x":`${this.settings.vibrateIntensity}px`,"--translate-y":`${this.settings.vibrateIntensity}px`,"--vibrate-speed":`${this.settings.vibrateSpeed}ms`}}},data(){return{textLinesVar:this.settings.textLines,textLineFontSize:Array.isArray(this.settings.fontSize)?this.settings.fontSize:this.settings.textLines.map(()=>this.settings.fontSize),vibratingLetters:{},animationInterval:null}},watch:{"settings.textLines"(e){this.textLinesVar=e}}};const es=(0,y.A)(Zi,[["render",Gi],["__scopeId","data-v-bd8a8780"]]);var ts=es;const is={class:"glitch-container"},ss=["data-text"];function ns(e,t,i,s,n,r){return(0,o.uX)(),(0,o.CE)("div",is,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.settings.textLines,(e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"glitch-text","data-text":e,style:(0,a.Tr)(r.getTextStyle(t))},(0,a.v_)(e),13,ss))),128))])}var os={name:"GlitchEffect",props:{settings:{type:Object,required:!0}},methods:{getTextStyle(e){const t=this.settings.fontSize?.[e]||120,i=this.settings.margin?.[e]||0,s=this.settings.marginTop?.[e]||0,n=this.settings.letterSpacing?.[e]||0;return{fontSize:`${t}px`,color:this.settings.color,opacity:this.settings.opacity/100,marginRight:`${i}px`,marginTop:`${s}px`,letterSpacing:`${n}px`,mixBlendMode:this.settings.blendMode,"--glitch-intensity":`${this.settings.vibrateIntensity}px`,"--glitch-speed":`${this.settings.vibrateSpeed}ms`,filter:`hue-rotate(${this.settings.hue}deg)`}}}};const as=(0,y.A)(os,[["render",ns],["__scopeId","data-v-7e58ee7b"]]);var rs=as;const ls={class:"wave-container"};function ds(e,t,i,s,n,r){return(0,o.uX)(),(0,o.CE)("div",ls,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.settings.textLines,(e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"wave-text",style:(0,a.Tr)(r.getLineStyle(t))},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.split(""),(e,i)=>((0,o.uX)(),(0,o.CE)("span",{key:`${t}-${i}`,class:"wave-letter",style:(0,a.Tr)(r.getLetterStyle(t,i))},(0,a.v_)(e),5))),128))],4))),128))])}var cs={name:"WaveEffect",props:{settings:{type:Object,required:!0}},data(){return{time:0,animationFrame:null}},mounted(){this.startAnimation()},beforeUnmount(){this.stopAnimation()},methods:{startAnimation(){const e=()=>{this.time+=.05,this.animationFrame=requestAnimationFrame(e)};this.animationFrame=requestAnimationFrame(e)},stopAnimation(){this.animationFrame&&cancelAnimationFrame(this.animationFrame)},getLineStyle(e){const t=this.settings.margin?.[e]||0,i=this.settings.marginTop?.[e]||0,s=this.settings.letterSpacing?.[e]||0;return{marginRight:`${t}px`,marginTop:`${i}px`,letterSpacing:`${s}px`,mixBlendMode:this.settings.blendMode}},getLetterStyle(e,t){const i=this.settings.fontSize?.[e]||120,s=.5,n=10*this.settings.vibrateIntensity,o=.3*t,a=Math.sin(this.time*s+o)*n;return{fontSize:`${i}px`,color:this.settings.color,opacity:this.settings.opacity/100,transform:`translateY(${a}px)`,filter:`hue-rotate(${this.settings.hue}deg) blur(${this.settings.blurAmount}px)`}}}};const us=(0,y.A)(cs,[["render",ds],["__scopeId","data-v-34a357d5"]]);var ps=us;const gs={class:"particle-container"};function hs(e,t,i,s,n,r){return(0,o.uX)(),(0,o.CE)("div",gs,[(0,o.Lk)("canvas",{ref:"canvas",onClick:t[0]||(t[0]=(...e)=>r.triggerBurst&&r.triggerBurst(...e))},null,512),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.settings.textLines,(e,i)=>((0,o.uX)(),(0,o.CE)("div",{key:i,class:"text-overlay",style:(0,a.Tr)(r.getTextStyle(i)),onClick:t[1]||(t[1]=(...e)=>r.triggerBurst&&r.triggerBurst(...e))},(0,a.v_)(e),5))),128))])}var ms={name:"ParticleBurst",props:{settings:{type:Object,required:!0}},data(){return{particles:[],animationFrame:null,ctx:null}},mounted(){this.initCanvas(),this.startAnimation()},beforeUnmount(){this.stopAnimation()},methods:{initCanvas(){const e=this.$refs.canvas;e.width=window.innerWidth,e.height=window.innerHeight,this.ctx=e.getContext("2d"),window.addEventListener("resize",()=>{e.width=window.innerWidth,e.height=window.innerHeight})},triggerBurst(e){const t=e.clientX,i=e.clientY,s=50;for(let n=0;n<s;n++){const e=2*Math.PI*n/s,o=2*this.settings.vibrateIntensity;this.particles.push({x:t,y:i,vx:Math.cos(e)*o,vy:Math.sin(e)*o,life:1,size:4*Math.random()+2})}},startAnimation(){const e=()=>{this.updateParticles(),this.drawParticles(),this.animationFrame=requestAnimationFrame(e)};this.animationFrame=requestAnimationFrame(e)},stopAnimation(){this.animationFrame&&cancelAnimationFrame(this.animationFrame)},updateParticles(){this.particles=this.particles.filter(e=>(e.x+=e.vx,e.y+=e.vy,e.vy+=.3,e.life-=.01,e.life>0))},drawParticles(){this.ctx.clearRect(0,0,this.$refs.canvas.width,this.$refs.canvas.height),this.particles.forEach(e=>{this.ctx.globalAlpha=e.life,this.ctx.fillStyle=this.settings.color,this.ctx.beginPath(),this.ctx.arc(e.x,e.y,e.size,0,2*Math.PI),this.ctx.fill()}),this.ctx.globalAlpha=1},getTextStyle(e){const t=this.settings.fontSize?.[e]||120,i=this.settings.margin?.[e]||0,s=this.settings.marginTop?.[e]||0,n=this.settings.letterSpacing?.[e]||0;return{fontSize:`${t}px`,color:this.settings.color,opacity:this.settings.opacity/100,marginRight:`${i}px`,marginTop:`${s}px`,letterSpacing:`${n}px`,mixBlendMode:this.settings.blendMode,filter:`hue-rotate(${this.settings.hue}deg)`}}}};const fs=(0,y.A)(ms,[["render",hs],["__scopeId","data-v-1b79f6fe"]]);var ys=fs;const vs={class:"rotation3d-container"};function bs(e,t,i,s,n,r){return(0,o.uX)(),(0,o.CE)("div",vs,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.settings.textLines,(e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"rotation3d-text",style:(0,a.Tr)(r.getTextStyle(t))},(0,a.v_)(e),5))),128))])}var ks={name:"Rotation3D",props:{settings:{type:Object,required:!0}},methods:{getTextStyle(e){const t=this.settings.fontSize?.[e]||120,i=this.settings.margin?.[e]||0,s=this.settings.marginTop?.[e]||0,n=this.settings.letterSpacing?.[e]||0;return{fontSize:`${t}px`,color:this.settings.color,opacity:this.settings.opacity/100,marginRight:`${i}px`,marginTop:`${s}px`,letterSpacing:`${n}px`,mixBlendMode:this.settings.blendMode,filter:`hue-rotate(${this.settings.hue}deg) blur(${this.settings.blurAmount}px)`,"--rotation-speed":10*this.settings.vibrateSpeed+"ms"}}}};const Ls=(0,y.A)(ks,[["render",bs],["__scopeId","data-v-08075c89"]]);var Ss=Ls;const xs={class:"neon-container"};function Cs(e,t,i,s,n,r){return(0,o.uX)(),(0,o.CE)("div",xs,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.settings.textLines,(e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"neon-text",style:(0,a.Tr)(r.getTextStyle(t))},(0,a.v_)(e),5))),128))])}var Ts={name:"NeonGlow",props:{settings:{type:Object,required:!0}},methods:{getTextStyle(e){const t=this.settings.fontSize?.[e]||120,i=this.settings.margin?.[e]||0,s=this.settings.marginTop?.[e]||0,n=this.settings.letterSpacing?.[e]||0;return{fontSize:`${t}px`,color:this.settings.color,opacity:this.settings.opacity/100,marginRight:`${i}px`,marginTop:`${s}px`,letterSpacing:`${n}px`,mixBlendMode:this.settings.blendMode,filter:`hue-rotate(${this.settings.hue}deg)`,"--glow-intensity":10*this.settings.vibrateIntensity+"px","--pulse-speed":10*this.settings.vibrateSpeed+"ms"}}}};const ws=(0,y.A)(Ts,[["render",Cs],["__scopeId","data-v-725fd275"]]);var $s=ws;const Vs={class:"liquid-container"},Us={width:"0",height:"0",style:{position:"absolute"}},Es=["id"],Is=["baseFrequency"],As=["from","to","dur"],Ms=["scale"];function Rs(e,t,i,s,n,r){return(0,o.uX)(),(0,o.CE)("div",Vs,[((0,o.uX)(),(0,o.CE)("svg",Us,[(0,o.Lk)("defs",null,[(0,o.Lk)("filter",{id:`liquid-${n.uid}`},[(0,o.Lk)("feTurbulence",{type:"fractalNoise",baseFrequency:n.baseFrequency,numOctaves:"5"},[(0,o.Lk)("animate",{attributeName:"baseFrequency",from:n.baseFrequency,to:n.animatedFrequency,dur:20*i.settings.vibrateSpeed+"ms",repeatCount:"indefinite"},null,8,As)],8,Is),(0,o.Lk)("feDisplacementMap",{in:"SourceGraphic",scale:10*i.settings.vibrateIntensity},null,8,Ms)],8,Es)])])),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.settings.textLines,(e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"liquid-text",style:(0,a.Tr)(r.getTextStyle(t))},(0,a.v_)(e),5))),128))])}let Fs=0;var Xs={name:"LiquidDistortion",props:{settings:{type:Object,required:!0}},data(){return{uid:"uid-"+Fs++,baseFrequency:"0.01 0.03",animatedFrequency:"0.03 0.01"}},methods:{getTextStyle(e){const t=this.settings.fontSize?.[e]||120,i=this.settings.margin?.[e]||0,s=this.settings.marginTop?.[e]||0,n=this.settings.letterSpacing?.[e]||0;return{fontSize:`${t}px`,color:this.settings.color,opacity:this.settings.opacity/100,marginRight:`${i}px`,marginTop:`${s}px`,letterSpacing:`${n}px`,mixBlendMode:this.settings.blendMode,filter:`url(#liquid-${this.uid}) hue-rotate(${this.settings.hue}deg)`}}}};const _s=(0,y.A)(Xs,[["render",Rs],["__scopeId","data-v-64e2cf80"]]);var Bs=_s;const Ds={class:"typewriter-container"},Os={key:0,class:"cursor"};function zs(e,t,i,s,n,r){return(0,o.uX)(),(0,o.CE)("div",Ds,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.settings.textLines,(e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"typewriter-text",style:(0,a.Tr)(r.getTextStyle(t))},[(0,o.eW)((0,a.v_)(n.visibleText[t]),1),n.isTyping[t]?((0,o.uX)(),(0,o.CE)("span",Os,"|")):(0,o.Q3)("",!0)],4))),128))])}var Ws={name:"TypewriterEffect",props:{settings:{type:Object,required:!0}},data(){return{visibleText:[],isTyping:[],intervals:[]}},mounted(){this.startTyping()},beforeUnmount(){this.stopTyping()},watch:{"settings.textLines":{handler(){this.stopTyping(),this.startTyping()},deep:!0}},methods:{startTyping(){this.visibleText=this.settings.textLines.map(()=>""),this.isTyping=this.settings.textLines.map(()=>!0),this.settings.textLines.forEach((e,t)=>{let i=0;const s=setInterval(()=>{i<e.length?(this.visibleText[t]=e.slice(0,i+1),i++):(this.isTyping[t]=!1,clearInterval(s),setTimeout(()=>{i=0,this.visibleText[t]="",this.isTyping[t]=!0},2e3))},this.settings.intervalSpeed||100);this.intervals.push(s)})},stopTyping(){this.intervals.forEach(e=>clearInterval(e)),this.intervals=[]},getTextStyle(e){const t=this.settings.fontSize?.[e]||120,i=this.settings.margin?.[e]||0,s=this.settings.marginTop?.[e]||0,n=this.settings.letterSpacing?.[e]||0;return{fontSize:`${t}px`,color:this.settings.color,opacity:this.settings.opacity/100,marginRight:`${i}px`,marginTop:`${s}px`,letterSpacing:`${n}px`,mixBlendMode:this.settings.blendMode,filter:`hue-rotate(${this.settings.hue}deg)`}}}};const qs=(0,y.A)(Ws,[["render",zs],["__scopeId","data-v-4ae13948"]]);var Ks=qs;const Hs={class:"chromatic-container"},Ps=["data-text"];function Js(e,t,i,s,n,r){return(0,o.uX)(),(0,o.CE)("div",Hs,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.settings.textLines,(e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"chromatic-text","data-text":e,style:(0,a.Tr)(r.getTextStyle(t))},(0,a.v_)(e),13,Ps))),128))])}var js={name:"ChromaticAberration",props:{settings:{type:Object,required:!0}},methods:{getTextStyle(e){const t=this.settings.fontSize?.[e]||120,i=this.settings.margin?.[e]||0,s=this.settings.marginTop?.[e]||0,n=this.settings.letterSpacing?.[e]||0;return{fontSize:`${t}px`,color:this.settings.color,opacity:this.settings.opacity/100,marginRight:`${i}px`,marginTop:`${s}px`,letterSpacing:`${n}px`,mixBlendMode:this.settings.blendMode,filter:`hue-rotate(${this.settings.hue}deg)`,"--aberration-offset":`${this.settings.vibrateIntensity}px`}}}};const Ys=(0,y.A)(js,[["render",Js],["__scopeId","data-v-0b0b2540"]]);var Qs=Ys;const Ns={class:"split-container"};function Gs(e,t,i,s,n,r){return(0,o.uX)(),(0,o.CE)("div",Ns,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.settings.textLines,(e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"split-text",style:(0,a.Tr)(r.getTextStyle(t))},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.split(""),(e,i)=>((0,o.uX)(),(0,o.CE)("span",{key:`${t}-${i}`,class:"split-letter",style:(0,a.Tr)(r.getLetterStyle(i))},(0,a.v_)(e),5))),128))],4))),128))])}var Zs={name:"SplitText",props:{settings:{type:Object,required:!0}},methods:{getTextStyle(e){const t=this.settings.fontSize?.[e]||120,i=this.settings.margin?.[e]||0,s=this.settings.marginTop?.[e]||0,n=this.settings.letterSpacing?.[e]||0;return{fontSize:`${t}px`,marginRight:`${i}px`,marginTop:`${s}px`,letterSpacing:`${n}px`,mixBlendMode:this.settings.blendMode,filter:`hue-rotate(${this.settings.hue}deg)`}},getLetterStyle(e){const t=.1*e;return{animationDelay:`${t}s`,color:this.settings.color,opacity:this.settings.opacity/100}}}};const en=(0,y.A)(Zs,[["render",Gs],["__scopeId","data-v-0dd9280e"]]);var tn=en;const sn={class:"wavy-container"};function nn(e,t,i,s,n,r){return(0,o.uX)(),(0,o.CE)("div",sn,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.settings.textLines,(e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"wavy-text",style:(0,a.Tr)(r.getTextStyle(t))},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.split(""),(e,i)=>((0,o.uX)(),(0,o.CE)("span",{key:`${t}-${i}`,class:"wavy-letter",style:(0,a.Tr)(r.getLetterStyle(i))},(0,a.v_)(e),5))),128))],4))),128))])}var on={name:"WavyText",props:{settings:{type:Object,required:!0}},methods:{getTextStyle(e){const t=this.settings.fontSize?.[e]||120,i=this.settings.margin?.[e]||0,s=this.settings.marginTop?.[e]||0,n=this.settings.letterSpacing?.[e]||0;return{fontSize:`${t}px`,marginRight:`${i}px`,marginTop:`${s}px`,letterSpacing:`${n}px`,mixBlendMode:this.settings.blendMode,filter:`hue-rotate(${this.settings.hue}deg)`}},getLetterStyle(e){const t=.05*e;return{animationDelay:`${t}s`,color:this.settings.color,opacity:this.settings.opacity/100}}}};const an=(0,y.A)(on,[["render",nn],["__scopeId","data-v-03a9c07c"]]);var rn=an;const ln={class:"flicker-container"},dn=["data-text"];function cn(e,t,i,s,n,r){return(0,o.uX)(),(0,o.CE)("div",ln,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.settings.textLines,(e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"flicker-text",style:(0,a.Tr)(r.getTextStyle(t)),"data-text":e},(0,a.v_)(e),13,dn))),128))])}var un={name:"FlickerText",props:{settings:{type:Object,required:!0}},methods:{getTextStyle(e){const t=this.settings.fontSize?.[e]||120,i=this.settings.margin?.[e]||0,s=this.settings.marginTop?.[e]||0,n=this.settings.letterSpacing?.[e]||0;return{fontSize:`${t}px`,color:this.settings.color,opacity:this.settings.opacity/100,marginRight:`${i}px`,marginTop:`${s}px`,letterSpacing:`${n}px`,mixBlendMode:this.settings.blendMode,filter:`hue-rotate(${this.settings.hue}deg)`}}}};const pn=(0,y.A)(un,[["render",cn],["__scopeId","data-v-28cd170a"]]);var gn=pn;const hn={class:"stroke-container"},mn=["data-text"];function fn(e,t,i,s,n,r){return(0,o.uX)(),(0,o.CE)("div",hn,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.settings.textLines,(e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"stroke-text",style:(0,a.Tr)(r.getTextStyle(t)),"data-text":e},(0,a.v_)(e),13,mn))),128))])}var yn={name:"StrokeText",props:{settings:{type:Object,required:!0}},methods:{getTextStyle(e){const t=this.settings.fontSize?.[e]||120,i=this.settings.margin?.[e]||0,s=this.settings.marginTop?.[e]||0,n=this.settings.letterSpacing?.[e]||0;return{fontSize:`${t}px`,marginRight:`${i}px`,marginTop:`${s}px`,letterSpacing:`${n}px`,mixBlendMode:this.settings.blendMode,filter:`hue-rotate(${this.settings.hue}deg)`,"--stroke-color":this.settings.color,opacity:this.settings.opacity/100}}}};const vn=(0,y.A)(yn,[["render",fn],["__scopeId","data-v-fe2d9c5c"]]);var bn=vn;const kn={class:"gradient-container"};function Ln(e,t,i,s,n,r){return(0,o.uX)(),(0,o.CE)("div",kn,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(i.settings.textLines,(e,t)=>((0,o.uX)(),(0,o.CE)("div",{key:t,class:"gradient-text",style:(0,a.Tr)(r.getTextStyle(t))},(0,a.v_)(e),5))),128))])}var Sn={name:"GradientText",props:{settings:{type:Object,required:!0}},methods:{getTextStyle(e){const t=this.settings.fontSize?.[e]||120,i=this.settings.margin?.[e]||0,s=this.settings.marginTop?.[e]||0,n=this.settings.letterSpacing?.[e]||0;return{fontSize:`${t}px`,marginRight:`${i}px`,marginTop:`${s}px`,letterSpacing:`${n}px`,mixBlendMode:this.settings.blendMode,filter:`hue-rotate(${this.settings.hue}deg)`,opacity:this.settings.opacity/100,"--gradient-color":this.settings.color}}}};const xn=(0,y.A)(Sn,[["render",Ln],["__scopeId","data-v-840adbea"]]);var Cn=xn;const Tn={key:0,class:"error-boundary"},wn={class:"error-message"};function $n(e,t,i,s,n,r){return n.error?((0,o.uX)(),(0,o.CE)("div",Tn,[(0,o.Lk)("div",wn,[t[1]||(t[1]=(0,o.Lk)("h2",null,"Something went wrong",-1)),(0,o.Lk)("p",null,(0,a.v_)(n.error.message),1),(0,o.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>r.reset&&r.reset(...e))},"Try Again")])])):(0,o.RG)(e.$slots,"default",{key:1},void 0,!0)}var Vn={name:"ErrorBoundary",data(){return{error:null}},errorCaptured(e,t,i){return this.error=e,console.error("Error captured:",e,i),!1},methods:{reset(){this.error=null}}};const Un=(0,y.A)(Vn,[["render",$n],["__scopeId","data-v-104ab370"]]);var En=Un;const In=(0,n.nY)("settings",{state:()=>({blendMode:"difference",effectType:"vibration",hue:0,color:"#ffffff",opacity:100,vibrateSpeed:50,vibrateIntensity:1,blurAmount:2,intervalSpeed:200,textLines:["INSERT","SUN'O3.08","BAR OOST"],fontSize:[120,120,120],margin:[0,0,0],marginTop:[0,0,0],letterSpacing:[0,0,0],globalRandomAmount:50,randomAmount:[0,0,0],backdropBlur:0,backdropBrightness:100,backdropContrast:100,backdropSaturate:100,textTypes:[],dragMode:!0}),actions:{loadFromLocalStorage(){const e=localStorage.getItem("appSettings");if(e)try{const t=JSON.parse(e);Object.assign(this.$state,t)}catch(t){console.error("Failed to parse stored settings:",t)}},updateSettings(e){Object.assign(this.$state,e),this.saveToLocalStorageDebounced()},saveToLocalStorageDebounced:(0,Hi.A)(function(){localStorage.setItem("appSettings",JSON.stringify(this.$state))},300),resetToDefaults(){this.$state.blendMode="difference",this.$state.effectType="vibration",this.$state.hue=0,this.$state.color="#ffffff",this.$state.opacity=100,this.$state.vibrateSpeed=50,this.$state.vibrateIntensity=1,this.$state.blurAmount=2,this.$state.globalRandomAmount=50,this.$state.randomAmount=[0,0,0],this.$state.intervalSpeed=200,this.$state.textLines=["INSERT","SUN'O3.08","BAR OOST"],this.$state.fontSize=[120,120,120],this.$state.margin=[0,0,0],this.$state.marginTop=[0,0,0],this.$state.letterSpacing=[0,0,0],this.$state.backdropBlur=0,this.$state.backdropBrightness=100,this.$state.backdropContrast=100,this.$state.backdropSaturate=100,this.$state.textTypes=[],this.$state.dragMode=!1,localStorage.removeItem("appSettings")},addTextLine(){this.textLines.push(""),this.fontSize.push(120),this.margin.push(0),this.marginTop.push(0),this.letterSpacing.push(0),this.randomAmount.push(0),this.textTypes.push(null)},removeTextLine(e){this.textLines.splice(e,1),this.fontSize.splice(e,1),this.margin.splice(e,1),this.marginTop.splice(e,1),this.letterSpacing.splice(e,1),this.randomAmount.splice(e,1),this.textTypes.splice(e,1)},setTextType(e,t){this.textTypes[e]="paragraph"===t?"paragraph":null}}});var An={name:"App",components:{VideoBackground:w,ControlPanel:Bi,TextVibration:Yi,TextDistort:ts,GlitchEffect:rs,WaveEffect:ps,ParticleBurst:ys,Rotation3D:Ss,NeonGlow:$s,LiquidDistortion:Bs,TypewriterEffect:Ks,ChromaticAberration:Qs,SplitText:tn,WavyText:rn,FlickerText:gn,StrokeText:bn,GradientText:Cn,ErrorBoundary:En},data(){const e=localStorage.getItem("appState"),t={isControlsHidden:!1};return{...JSON.parse(e||JSON.stringify(t)),isShortcutHintVisible:!1}},setup(){const e=In();return e.loadFromLocalStorage(),{settingsStore:e}},mounted(){document.addEventListener("dblclick",this.handleDoubleClick),document.addEventListener("keydown",this.handleKeyDown),setTimeout(()=>{this.isShortcutHintVisible=!0,setTimeout(()=>{this.isShortcutHintVisible=!1},3e3)},1e3)},beforeUnmount(){document.removeEventListener("dblclick",this.handleDoubleClick),document.removeEventListener("keydown",this.handleKeyDown)},methods:{resetToDefaults(){localStorage.removeItem("appState"),this.settingsStore.resetToDefaults(),this.isControlsHidden=!1},onUpdate(e){this.settingsStore.updateSettings(e)},toggleControls(){this.isControlsHidden=!this.isControlsHidden,this.showShortcutHint()},handleDoubleClick(e){e.target.closest(".controls")||e.target.closest(".toggle-controls")||this.toggleControls()},handleKeyDown(e){"h"!==e.key&&"H"!==e.key||this.toggleControls()},showShortcutHint(){this.isShortcutHintVisible=!0,setTimeout(()=>{this.isShortcutHintVisible=!1},2e3)}}};const Mn=(0,y.A)(An,[["render",d]]);var Rn=Mn;const Fn=(0,s.Ef)(Rn),Xn=(0,n.Ey)();Fn.use(Xn),Fn.mount("#app")}},t={};function i(s){var n=t[s];if(void 0!==n)return n.exports;var o=t[s]={exports:{}};return e[s].call(o.exports,o,o.exports,i),o.exports}i.m=e,function(){var e=[];i.O=function(t,s,n,o){if(!s){var a=1/0;for(c=0;c<e.length;c++){s=e[c][0],n=e[c][1],o=e[c][2];for(var r=!0,l=0;l<s.length;l++)(!1&o||a>=o)&&Object.keys(i.O).every(function(e){return i.O[e](s[l])})?s.splice(l--,1):(r=!1,o<a&&(a=o));if(r){e.splice(c--,1);var d=n();void 0!==d&&(t=d)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[s,n,o]}}(),function(){i.d=function(e,t){for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};i.O.j=function(t){return 0===e[t]};var t=function(t,s){var n,o,a=s[0],r=s[1],l=s[2],d=0;if(a.some(function(t){return 0!==e[t]})){for(n in r)i.o(r,n)&&(i.m[n]=r[n]);if(l)var c=l(i)}for(t&&t(s);d<a.length;d++)o=a[d],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(c)},s=self["webpackChunkvideo_blend_text"]=self["webpackChunkvideo_blend_text"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=i.O(void 0,[504],function(){return i(5604)});s=i.O(s)})();
//# sourceMappingURL=app.a529408c.js.map